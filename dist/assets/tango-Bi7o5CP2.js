import"./modulepreload-polyfill-B5Qt9EMX.js";import{m as Br,i as ii,c as vt}from"./index-umd-Baa3EFqJ.js";const Mr=""+new URL("touch-5mgMMg34.png",import.meta.url).href,Dr=""+new URL("fam-DIoq_Pn-.png",import.meta.url).href,Ar=""+new URL("test-CFIyM9Ie.png",import.meta.url).href,xr=""+new URL("familypic-DQ9xGaky.png",import.meta.url).href;function Rr(r){const e=document.getElementById("experimentslide-button-text"),i=document.getElementById("textslide-button-text"),t={};return t.welcomeHeading=document.createElement("div"),t.welcomeParagraph=document.createElement("div"),t.welcomeImage=document.createElement("img"),t.welcomeImage.style="width: inherit",t.instructionsTouchHeading=document.createElement("div"),t.instructionsTouchParagraph=document.createElement("div"),t.instructionsTouchImage=document.createElement("img"),t.instructionsTouchImage.style="width: inherit",t.instructionsFamHeading=document.createElement("div"),t.instructionsFamParagraph=document.createElement("div"),t.instructionsFamImage=document.createElement("img"),t.instructionsFamImage.style="width: inherit",t.instructionsTestHeading=document.createElement("div"),t.instructionsTestParagraph=document.createElement("div"),t.instructionsTestImage=document.createElement("img"),t.instructionsTestImage.style="width: inherit",t.goodbyeHeading=document.createElement("div"),t.goodbyeParagraph=document.createElement("div"),t.familyImage=document.createElement("img"),t.familyImage.style="width: inherit",t.instructionsTouchImage.src=Mr,t.familyImage.src=xr,document.title="TANGO-CC",i.innerHTML="continue",e.innerHTML="continue",t.landscapemode="Please use your device in landscape mode!",t.welcomeHeading.innerHTML="<h1> Welcome to our balloon game! </h1>",t.instructionsTouchHeading.innerHTML="<h1> Before we start... </h1>",t.instructionsFamHeading.innerHTML="<h1> Great! Done with the first part! </h1>",t.instructionsTestHeading.innerHTML="<h1> Nice! Here comes the last part. </h1>",t.goodbyeHeading.innerHTML="<h1> Finished! </h1>",t.welcomeParagraph.innerHTML=`<p> 
  Weâ€™re glad you are here! 
  We  want to play a little balloon finding game. <br> <br>
  Feel free to take as much time as you like. If the child gets restless or bored, you can always take a short break. <br> <br>
  If the child asks you for advice or is unsure, please say "Show me what you think." 
  Anything the child responds is fine. 
  Please don't help with the task - we are here to learn something about kids! <br> <br>
  <strong>
  Click the "continue" button to enter full screen mode and learn more about the game.
  </strong>
  </p>`,t.instructionsTouchParagraph.innerHTML=`<p> 
  By clicking on the speaker button, you can listen to a short welcome message.
  You can listen to this as often as you like. <br>
  Once the recording stopped playing, a "continue" button will appear on the bottom of the page.
  Please press this button once you are ready to start the game.
  You will then be guided through the game with the help of voice recordings. <br> <br>
  <strong> In our balloon game, we will frequently ask a question. 
  To answer, the child can click at a location on the touch screen. 
  Please do not give any hints. <br> <br>
  Now please click on the speaker icon. </strong>
  </p>`,t.instructionsFamImage.src=Dr,t.instructionsTestImage.src=Ar,t.instructionsFamParagraph.innerHTML=`<p> 
  <br> <br> <br> <br>
  In a moment, you can continue playing. <br> <br>
  The game changes a bit, but the task remains the same - to find the balloon. <br> <br>
  As soon as you want to continue playing, click the "continue" button again. <br>
  </p>`,t.instructionsTestParagraph.innerHTML=`<p> 
  <br> <br> <br> <br>
  In a moment, you can continue playing. <br> <br>
  The game changes a bit, but the task remains the same - to find the balloon. <br> <br>
  As soon as you want to continue playing, click the "continue" button again. <br>
  </p>`,t.goodbyeParagraph.innerHTML=`<p> 
  <br> <br>
  Wonderful! 
  You did a great job! <br> <br>
  If you click on the speaker button, you can hear a little goodbye message. <br> <br> 
  Click on the "continue" button to go to the last page.
  </p>`,t}function ni(r,e){let i=0,t=0;return r%e===0?i=r/e:(i=Math.floor(r/e),t=r%e),{quotient:i,remainder:t}}function Ye(r){for(let e=r.length-1;e>0;e--){const i=Math.floor(Math.random()*(e+1)),t=r[e];r[e]=r[i],r[i]=t}return r}function Fr(r,e){return Math.floor(Math.random()*(e-r+1))+r}function Wr(r,e,i){let t=r.state.filter(f=>f!=="welcome");t=t.filter(f=>f!=="instruction"),t=t.filter(f=>f!=="transition"),t=t.filter(f=>f!=="goodbye");for(let f=0;f<r.meta.trialsTotal;f++)r.log[f]={},r.log[f].trialType=t[f],r.log[f].trialNr=f+1;r.devmode?r.log[0].voiceover=!1:r.log[0].voiceover=!0;for(let f=1;f<r.meta.trialsTotal;f++)r.devmode?r.log[f].voiceover=!1:r.log[f].voiceover=r.log[f].trialType!=r.log[f-1].trialType;let n=[];const s=ni(r.meta.trialsTotal,e.length);for(let f=0;f<s.quotient;f++){const d=Ye(e);n=n.concat(d)}if(s.remainder>0){const f=Ye(e);f.splice(0,f.length-s.remainder),n=n.concat(f)}const o=ni(r.meta.trialsTotal,i.length);let a=[];for(let f=0;f<o.quotient;f++){const d=Ye(i);a=a.concat(d)}if(o.remainder>0){const f=Ye(i);f.splice(0,f.length-o.remainder),a=a.concat(f)}let u=[];const l=[1,2,3,4,5,6,7,8,9,10],c=10;if(r.meta.nrTouch+r.meta.nrFam<=c){let f=0,d=c-1;for(let _=0;_<r.meta.nrTouch+r.meta.nrFam;_++)_%2===0&&(u.push(l[d]),d--),_%2!==0&&(u.push(l[f]),f++)}u=Ye(u);const h=r.meta.nrTouch+r.meta.nrFam<=c?r.meta.nrTest:r.meta.trialsTotal,g=ni(h,c);for(let f=0;f<g.quotient;f++)u=u.concat(Ye(l));if(g.remainder>0){const f=Ye(l);f.splice(0,f.length-g.remainder),u=u.concat(f)}let m=[];u.forEach((f,d)=>{const _=r.elemSpecs.targets.borderRight/c*(f-1),w=r.elemSpecs.targets.borderRight/c*f;m[d]=Fr(_,w)});for(let f=0;f<r.meta.trialsTotal;f++)r.log[f].agent=n[f].getAttribute("id"),r.log[f].target=a[f].getAttribute("id"),r.log[f].bin=u[f],r.log[f].targetX=m[f],r.log[f].targetCenterX=m[f]+r.meta.targetWidth/2,r.log[f].targetY=r.elemSpecs.targets.groundY}function hi(r,e){r.forEach(m=>{m.trialType!=="test"||m.voiceover?m.keep_trial=!1:m.keep_trial=!0,m.targetCenterX=parseFloat(m.targetCenterX.toFixed(2)),m.clickX?m.clickX=parseFloat(m.clickX.toFixed(2)):(m.keep_trial=!1,m.clickX=null),m.target=m.target.replace("balloon-","")});const i=["id","lang","bg","trialNr","trialType","voiceover","keep_trial","agent","target","bin","targetCenterX","clickX","absoluteClickDistance","timestamp","responsetime"],t=["id","language","background","trial_number","study_phase","audio_instructions","keep_trial","agent","balloon_color","balloon_bin","balloon_center","click","absolute_click_distance","timestamp","responsetime_ms"],n={"01":"white_house","02":"clay_house","03":"brick_house","04":"wood_house"},s={touch:"training1",fam:"training2",test:"test"},o=[];o.push(t),r.forEach(m=>{const f=i.map(d=>d==="bg"?n[m[d]]:d==="trialType"?s[m[d]]:m[d]);o.push(f)});let a="";o.forEach(m=>{a+=m.join(",")+`
`});const u=new Date().toISOString().substring(0,10),l=new Date().toISOString().substring(11,19),c=new Blob([a],{type:"text/csv;charset=utf-8,"}),h=URL.createObjectURL(c),g=document.createElement("a");g.setAttribute("href",h),g.setAttribute("download",`tangoCC-${e}-${u}-${l}.csv`),g.click()}function Lr(r){window.addEventListener("load",function(){const e=document.getElementById("spinner-wrapper");e.style.display="none"}),window.innerHeight>window.innerWidth&&!r.devmode&&alert("Please turn your device to watch the website in landscape format!"),window.addEventListener("orientationchange",()=>{const e=()=>{window.innerHeight>window.innerWidth&&alert(`${r.txt.landscapemode}`)};window.addEventListener("resize",e,{capture:!1,once:!0})}),window.downloadCsv=()=>{hi(r.log,r.meta.subjID)},window.mrec=Br,window.downloadWebm=()=>{ii.stopRecorder();const e=new Date().toISOString().substring(0,10),i=new Date().toISOString().substring(11,19);setTimeout(()=>ii.downloadVideo(`tangoCC-${r.meta.subjID}-${e}-${i}`),1e3)},!r.meta.iOSSafari&&r.meta.webcam&&ii.startRecorder({audio:!0,video:{frameRate:{min:3,ideal:5,max:30},width:{min:160,ideal:320,max:640},height:{min:120,ideal:240,max:480},facingMode:"user"}})}function Nr(){let r=!1;if("maxTouchPoints"in navigator)r=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)r=navigator.msMaxTouchPoints>0;else{const e=window.matchMedia&&matchMedia("(pointer:coarse)");if(e&&e.media==="(pointer:coarse)")r=!!e.matches;else if("orientation"in window)r=!0;else{const i=navigator.userChild;r=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(i)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(i)}}return r}var vn={exports:{}};(function(r){(function(){var e="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",b=typeof process=="object"&&typeof process.versions=="object"&&process.versions.node&&!process.browser;if(b){var i=process.versions.node.toString().replace("v","");e="Nodejs/"+i+" (NodeOS) AppleWebKit/"+i+" (KHTML, like Gecko) Nodejs/"+i+" Nodejs/"+i}(function(T){typeof window<"u"||(typeof window>"u"&&typeof vt<"u"&&(vt.navigator={userAgent:e,getUserMedia:function(){}},T.window=vt),typeof location>"u"&&(T.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(T.screen={width:0,height:0}))})(typeof vt<"u"?vt:window);var t=window.navigator;typeof t<"u"?(typeof t.webkitGetUserMedia<"u"&&(t.getUserMedia=t.webkitGetUserMedia),typeof t.mozGetUserMedia<"u"&&(t.getUserMedia=t.mozGetUserMedia)):t={getUserMedia:function(){},userAgent:e};var n=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(t.userAgent||""),s=t.userAgent.indexOf("Edge")!==-1&&(!!t.msSaveOrOpenBlob||!!t.msSaveBlob),o=!!window.opera||t.userAgent.indexOf(" OPR/")>=0,a=t.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(t.userAgent),u=/^((?!chrome|android).)*safari/i.test(t.userAgent),l=!!window.chrome&&!o,c=typeof document<"u"&&!!document.documentMode&&!s;function h(){t.appVersion;var T=t.userAgent,P=t.appName,B=""+parseFloat(t.appVersion),M=parseInt(t.appVersion,10),I,D,Ee;if(o){P="Opera";try{B=t.userAgent.split("OPR/")[1].split(" ")[0],M=B.split(".")[0]}catch{B="0.0.0.0",M=0}}else c?(D=T.indexOf("rv:"),D>0?B=T.substring(D+3):(D=T.indexOf("MSIE"),B=T.substring(D+5)),P="IE"):l?(D=T.indexOf("Chrome"),P="Chrome",B=T.substring(D+7)):u?T.indexOf("CriOS")!==-1?(D=T.indexOf("CriOS"),P="Chrome",B=T.substring(D+6)):T.indexOf("FxiOS")!==-1?(D=T.indexOf("FxiOS"),P="Firefox",B=T.substring(D+6)):(D=T.indexOf("Safari"),P="Safari",B=T.substring(D+7),(D=T.indexOf("Version"))!==-1&&(B=T.substring(D+8)),t.userAgent.indexOf("Version/")!==-1&&(B=t.userAgent.split("Version/")[1].split(" ")[0])):a?(D=T.indexOf("Firefox"),P="Firefox",B=T.substring(D+8)):(I=T.lastIndexOf(" ")+1)<(D=T.lastIndexOf("/"))&&(P=T.substring(I,D),B=T.substring(D+1),P.toLowerCase()===P.toUpperCase()&&(P=t.appName));return s&&(P="Edge",B=t.userAgent.split("Edge/")[1]),(Ee=B.search(/[; \)]/))!==-1&&(B=B.substring(0,Ee)),M=parseInt(""+B,10),isNaN(M)&&(B=""+parseFloat(t.appVersion),M=parseInt(t.appVersion,10)),{fullVersion:B,version:M,name:P,isPrivateBrowsing:!1}}function g(T,P){var B=0,M=50,I=!1,D=window.setInterval(function(){T()&&(window.clearInterval(D),P(I)),B++>M&&(window.clearInterval(D),I=!0,P(I))},10)}function m(T){var P=T.toLowerCase();if(P.indexOf("msie")===0&&P.indexOf("trident")===0)return!1;var B=/(?:msie|rv:)\s?([\d\.]+)/.exec(P);return!!(B&&parseInt(B[1],10)>=10)}function f(T){var P;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){P=!1},function(M){P=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var B;try{B=window.indexedDB.open("test"),B.onerror=function(){return!0}}catch{P=!0}typeof P>"u"&&g(function(){return B.readyState==="done"},function(I){I||(P=!B.result)})}else if(m(window.navigator.userAgent)){P=!1;try{window.indexedDB||(P=!0)}catch{P=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch{P=!0}typeof P>"u"&&(P=!1,window.localStorage.removeItem("test"))}}catch{P=!1}g(function(){return typeof P<"u"},function(I){T(P)})}var d={Android:function(){return t.userAgent.match(/Android/i)},BlackBerry:function(){return t.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return t.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return t.userAgent.match(/Opera Mini/i)},Windows:function(){return t.userAgent.match(/IEMobile/i)},any:function(){return d.Android()||d.BlackBerry()||d.iOS()||d.Opera()||d.Windows()},getOsName:function(){var T="Unknown OS";return d.Android()&&(T="Android"),d.BlackBerry()&&(T="BlackBerry"),d.iOS()&&(T="iOS"),d.Opera()&&(T="Opera Mini"),d.Windows()&&(T="Windows"),T}};function _(){for(var T="-",P=t.appVersion,B=t.userAgent,M=T,I=[{s:"Chrome OS",r:/CrOS/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],D=0,Ee;Ee=I[D];D++)if(Ee.r.test(B)){M=Ee.s;break}var ne=T;switch(/Windows/.test(M)&&(/Windows (.*)/.test(M)&&(ne=/Windows (.*)/.exec(M)[1]),M="Windows"),M){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(B)&&(ne=/Mac OS X (10[\.\_\d]+)/.exec(B)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(B)&&(ne=/Android ([\.\_\d]+)/.exec(B)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(B)&&(ne=/OS (\d+)_(\d+)_?(\d+)?/.exec(P),ne&&ne.length>3&&(ne=ne[1]+"."+ne[2]+"."+(ne[3]|0)));break}return{osName:M,osVersion:ne}}var w="Unknown OS",y="Unknown OS Version";function S(T){T=(T||t.userAgent).toLowerCase();var P=T.match(/android\s([0-9\.]*)/);return P?P[1]:!1}var v=_();v&&v.osName&&v.osName!="-"?(w=v.osName,y=v.osVersion):d.any()&&(w=d.getOsName(),w=="Android"&&(y=S()));var b=typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;w==="Unknown OS"&&b&&(w="Nodejs",y=process.versions.node.toString().replace("v",""));var k=!1,E=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(T){typeof document>"u"||typeof document.createElement!="function"||(!k&&T in document.createElement("canvas")&&(k=!0),!E&&T in document.createElement("video")&&(E=!0))});var O=/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/,C=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,x=/[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/;function N(T,P){if(p.isWebRTCSupported){var B=!0,M=!0;F(function(I){I?I.match(O)?(B=!1,T("Local: "+I,B,M)):(I.match(x)&&(M=!1),T("Public: "+I,B,M)):T()},P)}}function F(T,P){if(typeof document>"u"||typeof document.getElementById!="function")return;var B={},M=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!M){var I=document.getElementById("iframe");if(!I)return;var D=I.contentWindow;M=D.RTCPeerConnection||D.mozRTCPeerConnection||D.webkitRTCPeerConnection}if(!M)return;var Ee=null;p.browser==="Chrome"&&p.browser.version<58&&(Ee={optional:[{RtpDataChannels:!0}]});var ne={iceServers:[{urls:"stun:stun.l.google.com:19302"}]},Te=new M(ne,Ee);P&&(Te.addStream?Te.addStream(P):Te.addTrack&&P.getTracks()[0]&&Te.addTrack(P.getTracks()[0],P));function ei(re){if(!re){T();return}var st=C.exec(re);if(st){var ti=st[1],Ir=re.match(O),Pr=!0;B[ti]===void 0&&T(ti,Ir,Pr),B[ti]=!0}}if(Te.onicecandidate=function(re){re.candidate&&re.candidate.candidate?ei(re.candidate.candidate):ei()},!P)try{Te.createDataChannel("sctp",{})}catch{}p.isPromisesSupported?Te.createOffer().then(function(re){Te.setLocalDescription(re).then(en)}):Te.createOffer(function(re){Te.setLocalDescription(re,en,function(){})},function(){});function en(){var re=Te.localDescription.sdp.split(`
`);re.forEach(function(st){st&&st.indexOf("a=candidate:")===0&&ei(st)})}}var R=[],V=[],$=[],W=[];t.mediaDevices&&t.mediaDevices.enumerateDevices&&(t.enumerateDevices=function(T){var P=t.mediaDevices.enumerateDevices();P&&P.then?t.mediaDevices.enumerateDevices().then(T).catch(function(){T([])}):T([])});var j=!1;(typeof MediaStreamTrack<"u"&&"getSources"in MediaStreamTrack||t.mediaDevices&&t.mediaDevices.enumerateDevices)&&(j=!0);var Z=!1,De=!1,ke=!1,ve=!1,de=!1;function Ft(T){if(!j){T&&T();return}if(!t.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(t.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!t.enumerateDevices&&t.enumerateDevices&&(t.enumerateDevices=t.enumerateDevices.bind(t)),!t.enumerateDevices){T&&T();return}R=[],V=[],$=[],W=[],Z=!1,De=!1,ke=!1,ve=!1,de=!1;var P={};t.enumerateDevices(function(B){R=[],V=[],$=[],W=[],B.forEach(function(M){var I={};for(var D in M)try{typeof M[D]!="function"&&(I[D]=M[D])}catch{}P[I.deviceId+I.label+I.kind]||(I.kind==="audio"&&(I.kind="audioinput"),I.kind==="video"&&(I.kind="videoinput"),I.deviceId||(I.deviceId=I.id),I.id||(I.id=I.deviceId),I.label?(I.kind==="videoinput"&&!de&&(de=!0),I.kind==="audioinput"&&!ve&&(ve=!0)):(I.isCustomLabel=!0,I.kind==="videoinput"?I.label="Camera "+(W.length+1):I.kind==="audioinput"?I.label="Microphone "+(V.length+1):I.kind==="audiooutput"?I.label="Speaker "+($.length+1):I.label="Please invoke getUserMedia once.",typeof p<"u"&&p.browser.isChrome&&p.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&typeof document<"u"&&typeof document.domain=="string"&&document.domain.search&&document.domain.search(/localhost|127.0./g)===-1&&(I.label="HTTPs is required to get label of this "+I.kind+" device.")),I.kind==="audioinput"&&(Z=!0,V.indexOf(I)===-1&&V.push(I)),I.kind==="audiooutput"&&(De=!0,$.indexOf(I)===-1&&$.push(I)),I.kind==="videoinput"&&(ke=!0,W.indexOf(I)===-1&&W.push(I)),R.push(I),P[I.deviceId+I.label+I.kind]=I)}),typeof p<"u"&&(p.MediaDevices=R,p.hasMicrophone=Z,p.hasSpeakers=De,p.hasWebcam=ke,p.isWebsiteHasWebcamPermissions=de,p.isWebsiteHasMicrophonePermissions=ve,p.audioInputDevices=V,p.audioOutputDevices=$,p.videoInputDevices=W),T&&T()})}var p=window.DetectRTC||{};p.browser=h(),f(function(T){p.browser.isPrivateBrowsing=!!T}),p.browser["is"+p.browser.name]=!0,p.osName=w,p.osVersion=y,typeof process=="object"&&typeof process.versions=="object"&&process.versions["node-webkit"];var Se=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(T){Se||T in window&&(Se=!0)}),p.isWebRTCSupported=Se,p.isORTCSupported=typeof RTCIceGatherer<"u";var We=!1;if((p.browser.isChrome&&p.browser.version>=35||p.browser.isFirefox&&p.browser.version>=34||p.browser.isEdge&&p.browser.version>=17||p.osName==="Android"&&p.browser.isChrome)&&(We=!0),(t.getDisplayMedia||t.mediaDevices&&t.mediaDevices.getDisplayMedia)&&(We=!0),!/^(https:|chrome-extension:)$/g.test(location.protocol||"")){var Cr=typeof document<"u"&&typeof document.domain=="string"&&document.domain.search&&document.domain.search(/localhost|127.0./g)===-1;(Cr&&(p.browser.isChrome||p.browser.isEdge||p.browser.isOpera)||p.browser.isFirefox)&&(We=!1)}p.isScreenCapturingSupported=We;var yt={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(T){yt.isSupported||T in window&&(yt.isSupported=!0,window[T]&&"createMediaStreamSource"in window[T].prototype&&(yt.isCreateMediaStreamSourceSupported=!0))}),p.isAudioContextSupported=yt.isSupported,p.isCreateMediaStreamSourceSupported=yt.isCreateMediaStreamSourceSupported;var Yi=!1;p.browser.isChrome&&p.browser.version>31&&(Yi=!0),p.isRtpDataChannelsSupported=Yi;var Wt=!1;(p.browser.isFirefox&&p.browser.version>28||p.browser.isChrome&&p.browser.version>25||p.browser.isOpera&&p.browser.version>=11)&&(Wt=!0),p.isSctpDataChannelsSupported=Wt,p.isMobileDevice=n;var wt=!1;(t.getUserMedia||t.mediaDevices&&t.mediaDevices.getUserMedia)&&(wt=!0),p.browser.isChrome&&p.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&typeof document<"u"&&typeof document.domain=="string"&&document.domain.search&&document.domain.search(/localhost|127.0./g)===-1&&(wt="Requires HTTPs"),p.osName==="Nodejs"&&(wt=!1),p.isGetUserMediaSupported=wt;var Gi="";if(screen.width){var kr=screen.width?screen.width:"",Er=screen.height?screen.height:"";Gi+=""+kr+" x "+Er}p.displayResolution=Gi;function Or(T,P){function B(I,D){return D==0?I:B(D,I%D)}var M=B(T,P);return T/M/(P/M)}p.displayAspectRatio=Or(screen.width,screen.height).toFixed(2),p.isCanvasSupportsStreamCapturing=k,p.isVideoSupportsStreamCapturing=E,p.browser.name=="Chrome"&&p.browser.version>=53&&(p.isCanvasSupportsStreamCapturing||(p.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),p.isVideoSupportsStreamCapturing||(p.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),p.DetectLocalIPAddress=N,p.isWebSocketsSupported="WebSocket"in window&&window.WebSocket.CLOSING===2,p.isWebSocketsBlocked=!p.isWebSocketsSupported,p.osName==="Nodejs"&&(p.isWebSocketsSupported=!0,p.isWebSocketsBlocked=!1),p.checkWebSocketsSupport=function(T){T=T||function(){};try{var P,B=new WebSocket("wss://echo.websocket.org:443/");B.onopen=function(){p.isWebSocketsBlocked=!1,P=new Date().getTime(),B.send("ping")},B.onmessage=function(){p.WebsocketLatency=new Date().getTime()-P+"ms",T(),B.close(),B=null},B.onerror=function(){p.isWebSocketsBlocked=!0,T()}}catch{p.isWebSocketsBlocked=!0,T()}},p.load=function(T){T=T||function(){},Ft(T)},typeof R<"u"?p.MediaDevices=R:p.MediaDevices=[],p.hasMicrophone=Z,p.hasSpeakers=De,p.hasWebcam=ke,p.isWebsiteHasWebcamPermissions=de,p.isWebsiteHasMicrophonePermissions=ve,p.audioInputDevices=V,p.audioOutputDevices=$,p.videoInputDevices=W;var qi=!1;typeof document<"u"&&typeof document.createElement=="function"&&"setSinkId"in document.createElement("video")&&(qi=!0),p.isSetSinkIdSupported=qi;var Jt=!1;p.browser.isFirefox&&typeof mozRTCPeerConnection<"u"?"getSenders"in mozRTCPeerConnection.prototype&&(Jt=!0):p.browser.isChrome&&typeof webkitRTCPeerConnection<"u"&&"getSenders"in webkitRTCPeerConnection.prototype&&(Jt=!0),p.isRTPSenderReplaceTracksSupported=Jt;var Ki=!1;p.browser.isFirefox&&p.browser.version>38&&(Ki=!0),p.isRemoteStreamProcessingSupported=Ki;var Qi=!1;typeof MediaStreamTrack<"u"&&"applyConstraints"in MediaStreamTrack.prototype&&(Qi=!0),p.isApplyConstraintsSupported=Qi;var Zi=!1;p.browser.isFirefox&&p.browser.version>=43&&(Zi=!0),p.isMultiMonitorScreenCapturingSupported=Zi,p.isPromisesSupported="Promise"in window,p.version="1.4.1",typeof p>"u"&&(window.DetectRTC={});var bt=window.MediaStream;typeof bt>"u"&&typeof webkitMediaStream<"u"&&(bt=webkitMediaStream),typeof bt<"u"&&typeof bt=="function"?p.MediaStream=Object.keys(bt.prototype):p.MediaStream=!1,typeof MediaStreamTrack<"u"?p.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):p.MediaStreamTrack=!1;var Ji=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;typeof Ji<"u"?p.RTCPeerConnection=Object.keys(Ji.prototype):p.RTCPeerConnection=!1,window.DetectRTC=p,r.exports=p})()})(vn);var tn=vn.exports;function $r(){const r=localStorage.getItem("storedChoices");let e;r?e=JSON.parse(r):console.log("No data found in local storage. Creating a studyChoices object.");const i={subjID:"testID",lang:"eng-uk",webcam:"false",touch:"1",fam:"1",test:"2",bg:"04",agents:"f01-f02-f03-f04-m04-m05-m06-m07-m08"};e?Object.keys(i).forEach(n=>{e.hasOwnProperty(n)||(e[n]=i[n],console.log(`Key "${n}" was missing. Set default value: "${i[n]}"`))}):(console.log("Setting the studyChoices object to default values:",JSON.stringify(i)),e={...i});const t={devmode:!1,trial:0,log:[],elemSpecs:{},meta:{subjID:e.subjID,lang:e.lang,webcam:JSON.parse(e.webcam),nrTouch:parseInt(e.touch),nrFam:parseInt(e.fam),nrTest:parseInt(e.test),bg:e.bg,agents:e.agents,touchscreen:Nr(),offsetHeight:document.body.offsetHeight,offsetWidth:document.body.offsetWidth,targetWidth:160}};return t.meta.trialsTotal=t.meta.nrTouch+t.meta.nrFam+t.meta.nrTest,t.state=["welcome","instruction"].concat(new Array(t.meta.nrTouch).fill("touch"),["transition"],new Array(t.meta.nrFam).fill("fam"),["transition"],new Array(t.meta.nrTest).fill("test"),"goodbye").flat(),tn.load(()=>{t.meta.safari=tn.browser.isSafari||!1,t.meta.iOSSafari=t.meta.touchscreen&&t.meta.safari}),t}function mi(r){return r.reduce(function(e,i){return e.concat(Array.isArray(i)?mi(i):i)},[])}function se(r,e){const i=mi(r),t=mi(e);i.forEach(n=>{n.setAttribute("visibility","visible")}),t.forEach(n=>{n.setAttribute("visibility","hidden")})}function zr(r){const e=document.getElementById("svg"),i=document.getElementById("hedge"),t=document.getElementById("window01"),n=document.getElementById("window02"),s=document.getElementById("window03"),o=document.getElementById("window04"),a=document.getElementById("wall01"),u=document.getElementById("wall02"),l=document.getElementById("wall03"),c=document.getElementById("wall04"),h=[t,n,s,o,a,u,l,c];r.meta.selectedBackground=[document.getElementById(`wall${r.meta.bg}`),document.getElementById(`window${r.meta.bg}`)];const g=Array.from(document.getElementById("agents").children);r.meta.stringAgents=r.meta.agents.replaceAll("m","male").replaceAll("f","female").split("-"),r.meta.selectedAgents=[],r.meta.stringAgents.forEach(f=>{r.meta.selectedAgents.push(document.getElementById(`${f}`))}),r.meta.selectedTargets=[document.getElementById("balloon-blue"),document.getElementById("balloon-red"),document.getElementById("balloon-yellow"),document.getElementById("balloon-green")],se([],[h,g,r.meta.selectedTargets]),r.elemSpecs.eyes={},r.meta.stringAgents.forEach(f=>{r.elemSpecs.eyes[f]={radius:document.getElementById(`${f}-eyeline-left`).getAttribute("r"),left:{center:{x:document.getElementById(`${f}-eyeline-left`).getAttribute("cx"),y:document.getElementById(`${f}-eyeline-left`).getAttribute("cy")},bbox:{x:document.getElementById(`${f}-eyeline-left`).getBBox().x,y:document.getElementById(`${f}-eyeline-left`).getBBox().y}},right:{center:{x:document.getElementById(`${f}-eyeline-right`).getAttribute("cx"),y:document.getElementById(`${f}-eyeline-right`).getAttribute("cy")},bbox:{x:document.getElementById(`${f}-eyeline-right`).getBBox().x,y:document.getElementById(`${f}-eyeline-right`).getBBox().y}}}}),r.elemSpecs.outerSVG={ID:document.getElementById("svg"),origViewBox:e.getAttribute("viewBox"),origViewBoxX:parseFloat(e.getAttribute("viewBox").split(" ")[0]),origViewBoxY:parseFloat(e.getAttribute("viewBox").split(" ")[1]),origViewBoxWidth:parseFloat(e.getAttribute("viewBox").split(" ")[2]),origViewBoxHeight:parseFloat(e.getAttribute("viewBox").split(" ")[3])},r.elemSpecs.targets={width:r.meta.selectedTargets[0].getBBox().width,height:r.meta.selectedTargets[0].getBBox().height,center:{x:r.meta.selectedTargets[0].getBBox().x,y:r.meta.selectedTargets[0].getBBox().y},halfway:{x:r.meta.selectedTargets[0].getBBox().x,y:r.elemSpecs.outerSVG.origViewBoxHeight-i.getBBox().height/1.1},borderRight:r.elemSpecs.outerSVG.origViewBoxWidth-r.meta.selectedTargets[0].getBBox().width,groundY:r.elemSpecs.outerSVG.origViewBoxHeight-r.meta.selectedTargets[0].getBBox().height-20},Array.from(document.querySelectorAll('[id^="foreign-object"]')).forEach(f=>{const d=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");[...f.attributes].map(({name:_,value:w})=>d.setAttribute(_,w)),f.replaceWith(d)})}async function Vr(r){r.soundEffect=new Audio,document.body.addEventListener("touchstart",()=>{r.soundEffect.play()},{capture:!1,once:!0});const e=[`./sounds/${r.meta.lang}/balloon-lands.mp3`,`./sounds/${r.meta.lang}/blink.mp3`,`./sounds/${r.meta.lang}/fam-hedge-1-f.mp3`,`./sounds/${r.meta.lang}/fam-hedge-1-m.mp3`,`./sounds/${r.meta.lang}/goodbye.mp3`,`./sounds/${r.meta.lang}/positive-feedback.mp3`,`./sounds/${r.meta.lang}/prompt-general.mp3`,`./sounds/${r.meta.lang}/prompt-hedge-long.mp3`,`./sounds/${r.meta.lang}/prompt-hedge.mp3`,`./sounds/${r.meta.lang}/prompt-touch-long.mp3`,`./sounds/${r.meta.lang}/prompt-touch.mp3`,`./sounds/${r.meta.lang}/test-hedge-1-f.mp3`,`./sounds/${r.meta.lang}/test-hedge-1-m.mp3`,`./sounds/${r.meta.lang}/test-hedge-2-f.mp3`,`./sounds/${r.meta.lang}/test-hedge-2-m.mp3`,`./sounds/${r.meta.lang}/test-hedge-3-f.mp3`,`./sounds/${r.meta.lang}/test-hedge-3-m.mp3`,`./sounds/${r.meta.lang}/touch-1-f.mp3`,`./sounds/${r.meta.lang}/touch-1-m.mp3`,`./sounds/${r.meta.lang}/welcome.mp3`];r.elemSpecs.audioDur={},e.forEach(i=>{const t=new Audio;t.src=i,t.onloadedmetadata=()=>{r.devmode?r.elemSpecs.audioDur[i]=t.duration/4:r.elemSpecs.audioDur[i]=t.duration}})}function Ur(){const r=document.documentElement;r.requestFullscreen?r.requestFullscreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen()}async function lt(r,e){return new Promise((i,t)=>{r.soundEffect.src=e,r.devmode&&(r.soundEffect.playbackRate=4),r.soundEffect.play(),r.soundEffect.onended=i}).catch(i=>console.log(i))}async function Sn(r){r.trial===0&&await lt(r,`./sounds/${r.meta.lang}/welcome.mp3`),r.trial===r.meta.trialsTotal&&await lt(r,`./sounds/${r.meta.lang}/goodbye.mp3`)}function Ae(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Tn(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ge={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},ht={duration:.5,overwrite:!1,delay:0},Bi,ee,U,ye=1e8,z=1/ye,gi=Math.PI*2,Xr=gi/4,Hr=0,Cn=Math.sqrt,jr=Math.cos,Yr=Math.sin,Q=function(e){return typeof e=="string"},Y=function(e){return typeof e=="function"},Re=function(e){return typeof e=="number"},Mi=function(e){return typeof e>"u"},Me=function(e){return typeof e=="object"},oe=function(e){return e!==!1},Di=function(){return typeof window<"u"},Lt=function(e){return Y(e)||Q(e)},kn=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},te=Array.isArray,_i=/(?:-?\.?\d|\.)+/gi,En=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,at=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ri=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,On=/[+-]=-?[.\d]+/,In=/[^,'"\[\]\s]+/gi,Gr=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,X,Oe,pi,Ai,_e={},Vt={},Pn,Bn=function(e){return(Vt=it(e,_e))&&ce},xi=function(e,i){return console.warn("Invalid property",e,"set to",i,"Missing plugin? gsap.registerPlugin()")},It=function(e,i){return!i&&console.warn(e)},Mn=function(e,i){return e&&(_e[e]=i)&&Vt&&(Vt[e]=i)||_e},Pt=function(){return 0},qr={suppressEvents:!0,isStart:!0,kill:!1},Nt={suppressEvents:!0,kill:!1},Kr={suppressEvents:!0},Ri={},Ve=[],yi={},Dn,fe={},si={},nn=30,$t=[],Fi="",Wi=function(e){var i=e[0],t,n;if(Me(i)||Y(i)||(e=[e]),!(t=(i._gsap||{}).harness)){for(n=$t.length;n--&&!$t[n].targetTest(i););t=$t[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new ir(e[n],t)))||e.splice(n,1);return e},Ze=function(e){return e._gsap||Wi(we(e))[0]._gsap},An=function(e,i,t){return(t=e[i])&&Y(t)?e[i]():Mi(t)&&e.getAttribute&&e.getAttribute(i)||t},ae=function(e,i){return(e=e.split(",")).forEach(i)||e},G=function(e){return Math.round(e*1e5)/1e5||0},K=function(e){return Math.round(e*1e7)/1e7||0},ct=function(e,i){var t=i.charAt(0),n=parseFloat(i.substr(2));return e=parseFloat(e),t==="+"?e+n:t==="-"?e-n:t==="*"?e*n:e/n},Qr=function(e,i){for(var t=i.length,n=0;e.indexOf(i[n])<0&&++n<t;);return n<t},Ut=function(){var e=Ve.length,i=Ve.slice(0),t,n;for(yi={},Ve.length=0,t=0;t<e;t++)n=i[t],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},xn=function(e,i,t,n){Ve.length&&!ee&&Ut(),e.render(i,t,ee&&i<0&&(e._initted||e._startAt)),Ve.length&&!ee&&Ut()},Rn=function(e){var i=parseFloat(e);return(i||i===0)&&(e+"").match(In).length<2?i:Q(e)?e.trim():e},Fn=function(e){return e},be=function(e,i){for(var t in i)t in e||(e[t]=i[t]);return e},Zr=function(e){return function(i,t){for(var n in t)n in i||n==="duration"&&e||n==="ease"||(i[n]=t[n])}},it=function(e,i){for(var t in i)e[t]=i[t];return e},rn=function r(e,i){for(var t in i)t!=="__proto__"&&t!=="constructor"&&t!=="prototype"&&(e[t]=Me(i[t])?r(e[t]||(e[t]={}),i[t]):i[t]);return e},Xt=function(e,i){var t={},n;for(n in e)n in i||(t[n]=e[n]);return t},kt=function(e){var i=e.parent||X,t=e.keyframes?Zr(te(e.keyframes)):be;if(oe(e.inherit))for(;i;)t(e,i.vars.defaults),i=i.parent||i._dp;return e},Jr=function(e,i){for(var t=e.length,n=t===i.length;n&&t--&&e[t]===i[t];);return t<0},Wn=function(e,i,t,n,s){var o=e[n],a;if(s)for(a=i[s];o&&o[s]>a;)o=o._prev;return o?(i._next=o._next,o._next=i):(i._next=e[t],e[t]=i),i._next?i._next._prev=i:e[n]=i,i._prev=o,i.parent=i._dp=e,i},qt=function(e,i,t,n){t===void 0&&(t="_first"),n===void 0&&(n="_last");var s=i._prev,o=i._next;s?s._next=o:e[t]===i&&(e[t]=o),o?o._prev=s:e[n]===i&&(e[n]=s),i._next=i._prev=i.parent=null},Xe=function(e,i){e.parent&&(!i||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Je=function(e,i){if(e&&(!i||i._end>e._dur||i._start<0))for(var t=e;t;)t._dirty=1,t=t.parent;return e},es=function(e){for(var i=e.parent;i&&i.parent;)i._dirty=1,i.totalDuration(),i=i.parent;return e},wi=function(e,i,t,n){return e._startAt&&(ee?e._startAt.revert(Nt):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(i,!0,n))},ts=function r(e){return!e||e._ts&&r(e.parent)},sn=function(e){return e._repeat?mt(e._tTime,e=e.duration()+e._rDelay)*e:0},mt=function(e,i){var t=Math.floor(e/=i);return e&&t===e?t-1:t},Ht=function(e,i){return(e-i._start)*i._ts+(i._ts>=0?0:i._dirty?i.totalDuration():i._tDur)},Kt=function(e){return e._end=K(e._start+(e._tDur/Math.abs(e._ts||e._rts||z)||0))},Qt=function(e,i){var t=e._dp;return t&&t.smoothChildTiming&&e._ts&&(e._start=K(t._time-(e._ts>0?i/e._ts:((e._dirty?e.totalDuration():e._tDur)-i)/-e._ts)),Kt(e),t._dirty||Je(t,e)),e},Ln=function(e,i){var t;if((i._time||!i._dur&&i._initted||i._start<e._time&&(i._dur||!i.add))&&(t=Ht(e.rawTime(),i),(!i._dur||Rt(0,i.totalDuration(),t)-i._tTime>z)&&i.render(t,!0)),Je(e,i)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(t=e;t._dp;)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp;e._zTime=-z}},Ie=function(e,i,t,n){return i.parent&&Xe(i),i._start=K((Re(t)?t:t||e!==X?pe(e,t,i):e._time)+i._delay),i._end=K(i._start+(i.totalDuration()/Math.abs(i.timeScale())||0)),Wn(e,i,"_first","_last",e._sort?"_start":0),bi(i)||(e._recent=i),n||Ln(e,i),e._ts<0&&Qt(e,e._tTime),e},Nn=function(e,i){return(_e.ScrollTrigger||xi("scrollTrigger",i))&&_e.ScrollTrigger.create(i,e)},$n=function(e,i,t,n,s){if(Ni(e,i,s),!e._initted)return 1;if(!t&&e._pt&&!ee&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Dn!==he.frame)return Ve.push(e),e._lazy=[s,n],1},is=function r(e){var i=e.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||r(i))},bi=function(e){var i=e.data;return i==="isFromStart"||i==="isStart"},ns=function(e,i,t,n){var s=e.ratio,o=i<0||!i&&(!e._start&&is(e)&&!(!e._initted&&bi(e))||(e._ts<0||e._dp._ts<0)&&!bi(e))?0:1,a=e._rDelay,u=0,l,c,h;if(a&&e._repeat&&(u=Rt(0,e._tDur,i),c=mt(u,a),e._yoyo&&c&1&&(o=1-o),c!==mt(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ee||n||e._zTime===z||!i&&e._zTime){if(!e._initted&&$n(e,i,n,t,u))return;for(h=e._zTime,e._zTime=i||(t?z:0),t||(t=i&&!h),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,l=e._pt;l;)l.r(o,l.d),l=l._next;i<0&&wi(e,i,t,!0),e._onUpdate&&!t&&me(e,"onUpdate"),u&&e._repeat&&!t&&e.parent&&me(e,"onRepeat"),(i>=e._tDur||i<0)&&e.ratio===o&&(o&&Xe(e,1),!t&&!ee&&(me(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=i)},rs=function(e,i,t){var n;if(t>i)for(n=e._first;n&&n._start<=t;){if(n.data==="isPause"&&n._start>i)return n;n=n._next}else for(n=e._last;n&&n._start>=t;){if(n.data==="isPause"&&n._start<i)return n;n=n._prev}},gt=function(e,i,t,n){var s=e._repeat,o=K(i)||0,a=e._tTime/e._tDur;return a&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:K(o*(s+1)+e._rDelay*s):o,a>0&&!n&&Qt(e,e._tTime=e._tDur*a),e.parent&&Kt(e),t||Je(e.parent,e),e},on=function(e){return e instanceof ie?Je(e):gt(e,e._dur)},ss={_start:0,endTime:Pt,totalDuration:Pt},pe=function r(e,i,t){var n=e.labels,s=e._recent||ss,o=e.duration()>=ye?s.endTime(!1):e._dur,a,u,l;return Q(i)&&(isNaN(i)||i in n)?(u=i.charAt(0),l=i.substr(-1)==="%",a=i.indexOf("="),u==="<"||u===">"?(a>=0&&(i=i.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(i.substr(1))||0)*(l?(a<0?s:t).totalDuration()/100:1)):a<0?(i in n||(n[i]=o),n[i]):(u=parseFloat(i.charAt(a-1)+i.substr(a+1)),l&&t&&(u=u/100*(te(t)?t[0]:t).totalDuration()),a>1?r(e,i.substr(0,a-1),t)+u:o+u)):i==null?o:+i},Et=function(e,i,t){var n=Re(i[1]),s=(n?2:1)+(e<2?0:1),o=i[s],a,u;if(n&&(o.duration=i[1]),o.parent=t,e){for(a=o,u=t;u&&!("immediateRender"in a);)a=u.vars.defaults||{},u=oe(u.vars.inherit)&&u.parent;o.immediateRender=oe(a.immediateRender),e<2?o.runBackwards=1:o.startAt=i[s-1]}return new q(i[0],o,i[s+1])},je=function(e,i){return e||e===0?i(e):i},Rt=function(e,i,t){return t<e?e:t>i?i:t},J=function(e,i){return!Q(e)||!(i=Gr.exec(e))?"":i[1]},os=function(e,i,t){return je(t,function(n){return Rt(e,i,n)})},vi=[].slice,zn=function(e,i){return e&&Me(e)&&"length"in e&&(!i&&!e.length||e.length-1 in e&&Me(e[0]))&&!e.nodeType&&e!==Oe},as=function(e,i,t){return t===void 0&&(t=[]),e.forEach(function(n){var s;return Q(n)&&!i||zn(n,1)?(s=t).push.apply(s,we(n)):t.push(n)})||t},we=function(e,i,t){return U&&!i&&U.selector?U.selector(e):Q(e)&&!t&&(pi||!_t())?vi.call((i||Ai).querySelectorAll(e),0):te(e)?as(e,t):zn(e)?vi.call(e,0):e?[e]:[]},Si=function(e){return e=we(e)[0]||It("Invalid scope")||{},function(i){var t=e.current||e.nativeElement||e;return we(i,t.querySelectorAll?t:t===e?It("Invalid scope")||Ai.createElement("div"):e)}},Vn=function(e){return e.sort(function(){return .5-Math.random()})},Un=function(e){if(Y(e))return e;var i=Me(e)?e:{each:e},t=et(i.ease),n=i.from||0,s=parseFloat(i.base)||0,o={},a=n>0&&n<1,u=isNaN(n)||a,l=i.axis,c=n,h=n;return Q(n)?c=h={center:.5,edges:.5,end:1}[n]||0:!a&&u&&(c=n[0],h=n[1]),function(g,m,f){var d=(f||i).length,_=o[d],w,y,S,v,b,k,E,O,C;if(!_){if(C=i.grid==="auto"?0:(i.grid||[1,ye])[1],!C){for(E=-ye;E<(E=f[C++].getBoundingClientRect().left)&&C<d;);C<d&&C--}for(_=o[d]=[],w=u?Math.min(C,d)*c-.5:n%C,y=C===ye?0:u?d*h/C-.5:n/C|0,E=0,O=ye,k=0;k<d;k++)S=k%C-w,v=y-(k/C|0),_[k]=b=l?Math.abs(l==="y"?v:S):Cn(S*S+v*v),b>E&&(E=b),b<O&&(O=b);n==="random"&&Vn(_),_.max=E-O,_.min=O,_.v=d=(parseFloat(i.amount)||parseFloat(i.each)*(C>d?d-1:l?l==="y"?d/C:C:Math.max(C,d/C))||0)*(n==="edges"?-1:1),_.b=d<0?s-d:s,_.u=J(i.amount||i.each)||0,t=t&&d<0?Jn(t):t}return d=(_[g]-_.min)/_.max||0,K(_.b+(t?t(d):d)*_.v)+_.u}},Ti=function(e){var i=Math.pow(10,((e+"").split(".")[1]||"").length);return function(t){var n=K(Math.round(parseFloat(t)/e)*e*i);return(n-n%1)/i+(Re(t)?0:J(t))}},Xn=function(e,i){var t=te(e),n,s;return!t&&Me(e)&&(n=t=e.radius||ye,e.values?(e=we(e.values),(s=!Re(e[0]))&&(n*=n)):e=Ti(e.increment)),je(i,t?Y(e)?function(o){return s=e(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),l=ye,c=0,h=e.length,g,m;h--;)s?(g=e[h].x-a,m=e[h].y-u,g=g*g+m*m):g=Math.abs(e[h]-a),g<l&&(l=g,c=h);return c=!n||l<=n?e[c]:o,s||c===o||Re(o)?c:c+J(o)}:Ti(e))},Hn=function(e,i,t,n){return je(te(e)?!i:t===!0?!!(t=0):!n,function(){return te(e)?e[~~(Math.random()*e.length)]:(t=t||1e-5)&&(n=t<1?Math.pow(10,(t+"").length-2):1)&&Math.floor(Math.round((e-t/2+Math.random()*(i-e+t*.99))/t)*t*n)/n})},us=function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return function(n){return i.reduce(function(s,o){return o(s)},n)}},ls=function(e,i){return function(t){return e(parseFloat(t))+(i||J(t))}},cs=function(e,i,t){return Yn(e,i,0,1,t)},jn=function(e,i,t){return je(t,function(n){return e[~~i(n)]})},ds=function r(e,i,t){var n=i-e;return te(e)?jn(e,r(0,e.length),i):je(t,function(s){return(n+(s-e)%n)%n+e})},fs=function r(e,i,t){var n=i-e,s=n*2;return te(e)?jn(e,r(0,e.length-1),i):je(t,function(o){return o=(s+(o-e)%s)%s||0,e+(o>n?s-o:o)})},Bt=function(e){for(var i=0,t="",n,s,o,a;~(n=e.indexOf("random(",i));)o=e.indexOf(")",n),a=e.charAt(n+7)==="[",s=e.substr(n+7,o-n-7).match(a?In:_i),t+=e.substr(i,n-i)+Hn(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),i=o+1;return t+e.substr(i,e.length-i)},Yn=function(e,i,t,n,s){var o=i-e,a=n-t;return je(s,function(u){return t+((u-e)/o*a||0)})},hs=function r(e,i,t,n){var s=isNaN(e+i)?0:function(m){return(1-m)*e+m*i};if(!s){var o=Q(e),a={},u,l,c,h,g;if(t===!0&&(n=1)&&(t=null),o)e={p:e},i={p:i};else if(te(e)&&!te(i)){for(c=[],h=e.length,g=h-2,l=1;l<h;l++)c.push(r(e[l-1],e[l]));h--,s=function(f){f*=h;var d=Math.min(g,~~f);return c[d](f-d)},t=i}else n||(e=it(te(e)?[]:{},e));if(!c){for(u in i)Li.call(a,e,u,"get",i[u]);s=function(f){return Vi(f,a)||(o?e.p:e)}}}return je(t,s)},an=function(e,i,t){var n=e.labels,s=ye,o,a,u;for(o in n)a=n[o]-i,a<0==!!t&&a&&s>(a=Math.abs(a))&&(u=o,s=a);return u},me=function(e,i,t){var n=e.vars,s=n[i],o=U,a=e._ctx,u,l,c;if(s)return u=n[i+"Params"],l=n.callbackScope||e,t&&Ve.length&&Ut(),a&&(U=a),c=u?s.apply(l,u):s.call(l),U=o,c},Tt=function(e){return Xe(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ee),e.progress()<1&&me(e,"onInterrupt"),e},ut,Gn=[],qn=function(e){if(e)if(e=!e.name&&e.default||e,Di()||e.headless){var i=e.name,t=Y(e),n=i&&!t&&e.init?function(){this._props=[]}:e,s={init:Pt,render:Vi,add:Li,kill:Ps,modifier:Is,rawVars:0},o={targetTest:0,get:0,getSetter:zi,aliases:{},register:0};if(_t(),e!==n){if(fe[i])return;be(n,be(Xt(e,s),o)),it(n.prototype,it(s,Xt(e,o))),fe[n.prop=i]=n,e.targetTest&&($t.push(n),Ri[i]=1),i=(i==="css"?"CSS":i.charAt(0).toUpperCase()+i.substr(1))+"Plugin"}Mn(i,n),e.register&&e.register(ce,n,ue)}else Gn.push(e)},L=255,Ct={aqua:[0,L,L],lime:[0,L,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,L],navy:[0,0,128],white:[L,L,L],olive:[128,128,0],yellow:[L,L,0],orange:[L,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[L,0,0],pink:[L,192,203],cyan:[0,L,L],transparent:[L,L,L,0]},oi=function(e,i,t){return e+=e<0?1:e>1?-1:0,(e*6<1?i+(t-i)*e*6:e<.5?t:e*3<2?i+(t-i)*(2/3-e)*6:i)*L+.5|0},Kn=function(e,i,t){var n=e?Re(e)?[e>>16,e>>8&L,e&L]:0:Ct.black,s,o,a,u,l,c,h,g,m,f;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ct[e])n=Ct[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&L,n&L,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&L,e&L]}else if(e.substr(0,3)==="hsl"){if(n=f=e.match(_i),!i)u=+n[0]%360/360,l=+n[1]/100,c=+n[2]/100,o=c<=.5?c*(l+1):c+l-c*l,s=c*2-o,n.length>3&&(n[3]*=1),n[0]=oi(u+1/3,s,o),n[1]=oi(u,s,o),n[2]=oi(u-1/3,s,o);else if(~e.indexOf("="))return n=e.match(En),t&&n.length<4&&(n[3]=1),n}else n=e.match(_i)||Ct.transparent;n=n.map(Number)}return i&&!f&&(s=n[0]/L,o=n[1]/L,a=n[2]/L,h=Math.max(s,o,a),g=Math.min(s,o,a),c=(h+g)/2,h===g?u=l=0:(m=h-g,l=c>.5?m/(2-h-g):m/(h+g),u=h===s?(o-a)/m+(o<a?6:0):h===o?(a-s)/m+2:(s-o)/m+4,u*=60),n[0]=~~(u+.5),n[1]=~~(l*100+.5),n[2]=~~(c*100+.5)),t&&n.length<4&&(n[3]=1),n},Qn=function(e){var i=[],t=[],n=-1;return e.split(Ue).forEach(function(s){var o=s.match(at)||[];i.push.apply(i,o),t.push(n+=o.length+1)}),i.c=t,i},un=function(e,i,t){var n="",s=(e+n).match(Ue),o=i?"hsla(":"rgba(",a=0,u,l,c,h;if(!s)return e;if(s=s.map(function(g){return(g=Kn(g,i,1))&&o+(i?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),t&&(c=Qn(e),u=t.c,u.join(n)!==c.c.join(n)))for(l=e.replace(Ue,"1").split(at),h=l.length-1;a<h;a++)n+=l[a]+(~u.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:t).shift());if(!l)for(l=e.split(Ue),h=l.length-1;a<h;a++)n+=l[a]+s[a];return n+l[h]},Ue=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ct)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),ms=/hsl[a]?\(/,Zn=function(e){var i=e.join(" "),t;if(Ue.lastIndex=0,Ue.test(i))return t=ms.test(i),e[1]=un(e[1],t),e[0]=un(e[0],t,Qn(e[1])),!0},Mt,he=function(){var r=Date.now,e=500,i=33,t=r(),n=t,s=1e3/240,o=s,a=[],u,l,c,h,g,m,f=function d(_){var w=r()-n,y=_===!0,S,v,b,k;if((w>e||w<0)&&(t+=w-i),n+=w,b=n-t,S=b-o,(S>0||y)&&(k=++h.frame,g=b-h.time*1e3,h.time=b=b/1e3,o+=S+(S>=s?4:s-S),v=1),y||(u=l(d)),v)for(m=0;m<a.length;m++)a[m](b,g,k,_)};return h={time:0,frame:0,tick:function(){f(!0)},deltaRatio:function(_){return g/(1e3/(_||60))},wake:function(){Pn&&(!pi&&Di()&&(Oe=pi=window,Ai=Oe.document||{},_e.gsap=ce,(Oe.gsapVersions||(Oe.gsapVersions=[])).push(ce.version),Bn(Vt||Oe.GreenSockGlobals||!Oe.gsap&&Oe||{}),Gn.forEach(qn)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&h.sleep(),l=c||function(_){return setTimeout(_,o-h.time*1e3+1|0)},Mt=1,f(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(u),Mt=0,l=Pt},lagSmoothing:function(_,w){e=_||1/0,i=Math.min(w||33,e)},fps:function(_){s=1e3/(_||240),o=h.time*1e3+s},add:function(_,w,y){var S=w?function(v,b,k,E){_(v,b,k,E),h.remove(S)}:_;return h.remove(_),a[y?"unshift":"push"](S),_t(),S},remove:function(_,w){~(w=a.indexOf(_))&&a.splice(w,1)&&m>=w&&m--},_listeners:a},h}(),_t=function(){return!Mt&&he.wake()},A={},gs=/^[\d.\-M][\d.\-,\s]/,_s=/["']/g,ps=function(e){for(var i={},t=e.substr(1,e.length-3).split(":"),n=t[0],s=1,o=t.length,a,u,l;s<o;s++)u=t[s],a=s!==o-1?u.lastIndexOf(","):u.length,l=u.substr(0,a),i[n]=isNaN(l)?l.replace(_s,"").trim():+l,n=u.substr(a+1).trim();return i},ys=function(e){var i=e.indexOf("(")+1,t=e.indexOf(")"),n=e.indexOf("(",i);return e.substring(i,~n&&n<t?e.indexOf(")",t+1):t)},ws=function(e){var i=(e+"").split("("),t=A[i[0]];return t&&i.length>1&&t.config?t.config.apply(null,~e.indexOf("{")?[ps(i[1])]:ys(e).split(",").map(Rn)):A._CE&&gs.test(e)?A._CE("",e):t},Jn=function(e){return function(i){return 1-e(1-i)}},er=function r(e,i){for(var t=e._first,n;t;)t instanceof ie?r(t,i):t.vars.yoyoEase&&(!t._yoyo||!t._repeat)&&t._yoyo!==i&&(t.timeline?r(t.timeline,i):(n=t._ease,t._ease=t._yEase,t._yEase=n,t._yoyo=i)),t=t._next},et=function(e,i){return e&&(Y(e)?e:A[e]||ws(e))||i},rt=function(e,i,t,n){t===void 0&&(t=function(u){return 1-i(1-u)}),n===void 0&&(n=function(u){return u<.5?i(u*2)/2:1-i((1-u)*2)/2});var s={easeIn:i,easeOut:t,easeInOut:n},o;return ae(e,function(a){A[a]=_e[a]=s,A[o=a.toLowerCase()]=t;for(var u in s)A[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=A[a+"."+u]=s[u]}),s},tr=function(e){return function(i){return i<.5?(1-e(1-i*2))/2:.5+e((i-.5)*2)/2}},ai=function r(e,i,t){var n=i>=1?i:1,s=(t||(e?.3:.45))/(i<1?i:1),o=s/gi*(Math.asin(1/n)||0),a=function(c){return c===1?1:n*Math.pow(2,-10*c)*Yr((c-o)*s)+1},u=e==="out"?a:e==="in"?function(l){return 1-a(1-l)}:tr(a);return s=gi/s,u.config=function(l,c){return r(e,l,c)},u},ui=function r(e,i){i===void 0&&(i=1.70158);var t=function(o){return o?--o*o*((i+1)*o+i)+1:0},n=e==="out"?t:e==="in"?function(s){return 1-t(1-s)}:tr(t);return n.config=function(s){return r(e,s)},n};ae("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var i=e<5?e+1:e;rt(r+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},function(t){return 1-Math.pow(1-t,i)},function(t){return t<.5?Math.pow(t*2,i)/2:1-Math.pow((1-t)*2,i)/2})});A.Linear.easeNone=A.none=A.Linear.easeIn;rt("Elastic",ai("in"),ai("out"),ai());(function(r,e){var i=1/e,t=2*i,n=2.5*i,s=function(a){return a<i?r*a*a:a<t?r*Math.pow(a-1.5/e,2)+.75:a<n?r*(a-=2.25/e)*a+.9375:r*Math.pow(a-2.625/e,2)+.984375};rt("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);rt("Expo",function(r){return r?Math.pow(2,10*(r-1)):0});rt("Circ",function(r){return-(Cn(1-r*r)-1)});rt("Sine",function(r){return r===1?1:-jr(r*Xr)+1});rt("Back",ui("in"),ui("out"),ui());A.SteppedEase=A.steps=_e.SteppedEase={config:function(e,i){e===void 0&&(e=1);var t=1/e,n=e+(i?0:1),s=i?1:0,o=1-z;return function(a){return((n*Rt(0,o,a)|0)+s)*t}}};ht.ease=A["quad.out"];ae("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return Fi+=r+","+r+"Params,"});var ir=function(e,i){this.id=Hr++,e._gsap=this,this.target=e,this.harness=i,this.get=i?i.get:An,this.set=i?i.getSetter:zi},Dt=function(){function r(i){this.vars=i,this._delay=+i.delay||0,(this._repeat=i.repeat===1/0?-2:i.repeat||0)&&(this._rDelay=i.repeatDelay||0,this._yoyo=!!i.yoyo||!!i.yoyoEase),this._ts=1,gt(this,+i.duration,1,1),this.data=i.data,U&&(this._ctx=U,U.data.push(this)),Mt||he.wake()}var e=r.prototype;return e.delay=function(t){return t||t===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,gt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,n){if(_t(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Qt(this,t),!s._dp||s.parent||Ln(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Ie(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===z||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),xn(this,t,n)),this},e.time=function(t,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+sn(this))%(this._dur+this._rDelay)||(t?this._dur:0),n):this._time},e.totalProgress=function(t,n){return arguments.length?this.totalTime(this.totalDuration()*t,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-t:t)+sn(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*s,n):this._repeat?mt(this._tTime,s)+1:1},e.timeScale=function(t,n){if(!arguments.length)return this._rts===-z?0:this._rts;if(this._rts===t)return this;var s=this.parent&&this._ts?Ht(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-z?0:this._rts,this.totalTime(Rt(-Math.abs(this._delay),this._tDur,s),n!==!1),Kt(this),es(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_t(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==z&&(this._tTime-=z)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&Ie(n,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(oe(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var n=this.parent||this._dp;return n?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ht(n.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){t===void 0&&(t=Kr);var n=ee;return ee=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),this.data!=="nested"&&t.kill!==!1&&this.kill(),ee=n,this},e.globalTime=function(t){for(var n=this,s=arguments.length?t:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(t):s},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,on(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(t){if(arguments.length){var n=this._time;return this._rDelay=t,on(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,n){return this.totalTime(pe(this,t),oe(n))},e.restart=function(t,n){return this.play().totalTime(t?-this._delay:0,oe(n))},e.play=function(t,n){return t!=null&&this.seek(t,n),this.reversed(!1).paused(!1)},e.reverse=function(t,n){return t!=null&&this.seek(t||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(t,n){return t!=null&&this.seek(t,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-z:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-z,this},e.isActive=function(){var t=this.parent||this._dp,n=this._start,s;return!!(!t||this._ts&&this._initted&&t.isActive()&&(s=t.rawTime(!0))>=n&&s<this.endTime(!0)-z)},e.eventCallback=function(t,n,s){var o=this.vars;return arguments.length>1?(n?(o[t]=n,s&&(o[t+"Params"]=s),t==="onUpdate"&&(this._onUpdate=n)):delete o[t],this):o[t]},e.then=function(t){var n=this;return new Promise(function(s){var o=Y(t)?t:Fn,a=function(){var l=n.then;n.then=null,Y(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=l),s(o),n.then=l};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},e.kill=function(){Tt(this)},r}();be(Dt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-z,_prom:0,_ps:!1,_rts:1});var ie=function(r){Tn(e,r);function e(t,n){var s;return t===void 0&&(t={}),s=r.call(this,t)||this,s.labels={},s.smoothChildTiming=!!t.smoothChildTiming,s.autoRemoveChildren=!!t.autoRemoveChildren,s._sort=oe(t.sortChildren),X&&Ie(t.parent||X,Ae(s),n),t.reversed&&s.reverse(),t.paused&&s.paused(!0),t.scrollTrigger&&Nn(Ae(s),t.scrollTrigger),s}var i=e.prototype;return i.to=function(n,s,o){return Et(0,arguments,this),this},i.from=function(n,s,o){return Et(1,arguments,this),this},i.fromTo=function(n,s,o,a){return Et(2,arguments,this),this},i.set=function(n,s,o){return s.duration=0,s.parent=this,kt(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new q(n,s,pe(this,o),1),this},i.call=function(n,s,o){return Ie(this,q.delayedCall(0,n,s),o)},i.staggerTo=function(n,s,o,a,u,l,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=c,o.parent=this,new q(n,o,pe(this,u)),this},i.staggerFrom=function(n,s,o,a,u,l,c){return o.runBackwards=1,kt(o).immediateRender=oe(o.immediateRender),this.staggerTo(n,s,o,a,u,l,c)},i.staggerFromTo=function(n,s,o,a,u,l,c,h){return a.startAt=o,kt(a).immediateRender=oe(a.immediateRender),this.staggerTo(n,s,a,u,l,c,h)},i.render=function(n,s,o){var a=this._time,u=this._dirty?this.totalDuration():this._tDur,l=this._dur,c=n<=0?0:K(n),h=this._zTime<0!=n<0&&(this._initted||!l),g,m,f,d,_,w,y,S,v,b,k,E;if(this!==X&&c>u&&n>=0&&(c=u),c!==this._tTime||o||h){if(a!==this._time&&l&&(c+=this._time-a,n+=this._time-a),g=c,v=this._start,S=this._ts,w=!S,h&&(l||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(k=this._yoyo,_=l+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(_*100+n,s,o);if(g=K(c%_),c===u?(d=this._repeat,g=l):(d=~~(c/_),d&&d===c/_&&(g=l,d--),g>l&&(g=l)),b=mt(this._tTime,_),!a&&this._tTime&&b!==d&&this._tTime-b*_-this._dur<=0&&(b=d),k&&d&1&&(g=l-g,E=1),d!==b&&!this._lock){var O=k&&b&1,C=O===(k&&d&1);if(d<b&&(O=!O),a=O?0:c%l?l:c,this._lock=1,this.render(a||(E?0:K(d*_)),s,!l)._lock=0,this._tTime=c,!s&&this.parent&&me(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||w!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,u=this._tDur,C&&(this._lock=2,a=O?l:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!w)return this;er(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(y=rs(this,K(a),K(g)),y&&(c-=g-(g=y._start))),this._tTime=c,this._time=g,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&g&&!s&&!d&&(me(this,"onStart"),this._tTime!==c))return this;if(g>=a&&n>=0)for(m=this._first;m;){if(f=m._next,(m._act||g>=m._start)&&m._ts&&y!==m){if(m.parent!==this)return this.render(n,s,o);if(m.render(m._ts>0?(g-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(g-m._start)*m._ts,s,o),g!==this._time||!this._ts&&!w){y=0,f&&(c+=this._zTime=-z);break}}m=f}else{m=this._last;for(var x=n<0?n:g;m;){if(f=m._prev,(m._act||x<=m._end)&&m._ts&&y!==m){if(m.parent!==this)return this.render(n,s,o);if(m.render(m._ts>0?(x-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(x-m._start)*m._ts,s,o||ee&&(m._initted||m._startAt)),g!==this._time||!this._ts&&!w){y=0,f&&(c+=this._zTime=x?-z:z);break}}m=f}}if(y&&!s&&(this.pause(),y.render(g>=a?0:-z)._zTime=g>=a?1:-1,this._ts))return this._start=v,Kt(this),this.render(n,s,o);this._onUpdate&&!s&&me(this,"onUpdate",!0),(c===u&&this._tTime>=this.totalDuration()||!c&&a)&&(v===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((n||!l)&&(c===u&&this._ts>0||!c&&this._ts<0)&&Xe(this,1),!s&&!(n<0&&!a)&&(c||a||!u)&&(me(this,c===u&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<u&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(n,s){var o=this;if(Re(s)||(s=pe(this,s,n)),!(n instanceof Dt)){if(te(n))return n.forEach(function(a){return o.add(a,s)}),this;if(Q(n))return this.addLabel(n,s);if(Y(n))n=q.delayedCall(0,n);else return this}return this!==n?Ie(this,n,s):this},i.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ye);for(var u=[],l=this._first;l;)l._start>=a&&(l instanceof q?s&&u.push(l):(o&&u.push(l),n&&u.push.apply(u,l.getChildren(!0,s,o)))),l=l._next;return u},i.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},i.remove=function(n){return Q(n)?this.removeLabel(n):Y(n)?this.killTweensOf(n):(qt(this,n),n===this._recent&&(this._recent=this._last),Je(this))},i.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=K(he.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),r.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},i.addLabel=function(n,s){return this.labels[n]=pe(this,s),this},i.removeLabel=function(n){return delete this.labels[n],this},i.addPause=function(n,s,o){var a=q.delayedCall(0,s||Pt,o);return a.data="isPause",this._hasPause=1,Ie(this,a,pe(this,n))},i.removePause=function(n){var s=this._first;for(n=pe(this,n);s;)s._start===n&&s.data==="isPause"&&Xe(s),s=s._next},i.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),u=a.length;u--;)Le!==a[u]&&a[u].kill(n,s);return this},i.getTweensOf=function(n,s){for(var o=[],a=we(n),u=this._first,l=Re(s),c;u;)u instanceof q?Qr(u._targets,a)&&(l?(!Le||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(c=u.getTweensOf(a,s)).length&&o.push.apply(o,c),u=u._next;return o},i.tweenTo=function(n,s){s=s||{};var o=this,a=pe(o,n),u=s,l=u.startAt,c=u.onStart,h=u.onStartParams,g=u.immediateRender,m,f=q.to(o,be({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||z,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());f._dur!==_&&gt(f,_,0,1).render(f._time,!0,!0),m=1}c&&c.apply(f,h||[])}},s));return g?f.render(0):f},i.tweenFromTo=function(n,s,o){return this.tweenTo(s,be({startAt:{time:pe(this,n)}},o))},i.recent=function(){return this._recent},i.nextLabel=function(n){return n===void 0&&(n=this._time),an(this,pe(this,n))},i.previousLabel=function(n){return n===void 0&&(n=this._time),an(this,pe(this,n),1)},i.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+z)},i.shiftChildren=function(n,s,o){o===void 0&&(o=0);for(var a=this._first,u=this.labels,l;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(l in u)u[l]>=o&&(u[l]+=n);return Je(this)},i.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return r.prototype.invalidate.call(this,n)},i.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),Je(this)},i.totalDuration=function(n){var s=0,o=this,a=o._last,u=ye,l,c,h;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(h=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>u&&o._sort&&a._ts&&!o._lock?(o._lock=1,Ie(o,a,c-a._delay,1)._lock=0):u=c,c<0&&a._ts&&(s-=c,(!h&&!o._dp||h&&h.smoothChildTiming)&&(o._start+=c/o._ts,o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),u=0),a._end>s&&a._ts&&(s=a._end),a=l;gt(o,o===X&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(X._ts&&(xn(X,Ht(n,X)),Dn=he.frame),he.frame>=nn){nn+=ge.autoSleep||120;var s=X._first;if((!s||!s._ts)&&ge.autoSleep&&he._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||he.sleep()}}},e}(Dt);be(ie.prototype,{_lock:0,_hasPause:0,_forcing:0});var bs=function(e,i,t,n,s,o,a){var u=new ue(this._pt,e,i,0,1,ur,null,s),l=0,c=0,h,g,m,f,d,_,w,y;for(u.b=t,u.e=n,t+="",n+="",(w=~n.indexOf("random("))&&(n=Bt(n)),o&&(y=[t,n],o(y,e,i),t=y[0],n=y[1]),g=t.match(ri)||[];h=ri.exec(n);)f=h[0],d=n.substring(l,h.index),m?m=(m+1)%5:d.substr(-5)==="rgba("&&(m=1),f!==g[c++]&&(_=parseFloat(g[c-1])||0,u._pt={_next:u._pt,p:d||c===1?d:",",s:_,c:f.charAt(1)==="="?ct(_,f)-_:parseFloat(f)-_,m:m&&m<4?Math.round:0},l=ri.lastIndex);return u.c=l<n.length?n.substring(l,n.length):"",u.fp=a,(On.test(n)||w)&&(u.e=0),this._pt=u,u},Li=function(e,i,t,n,s,o,a,u,l,c){Y(n)&&(n=n(s||0,e,o));var h=e[i],g=t!=="get"?t:Y(h)?l?e[i.indexOf("set")||!Y(e["get"+i.substr(3)])?i:"get"+i.substr(3)](l):e[i]():h,m=Y(h)?l?ks:or:$i,f;if(Q(n)&&(~n.indexOf("random(")&&(n=Bt(n)),n.charAt(1)==="="&&(f=ct(g,n)+(J(g)||0),(f||f===0)&&(n=f))),!c||g!==n||Ci)return!isNaN(g*n)&&n!==""?(f=new ue(this._pt,e,i,+g||0,n-(g||0),typeof h=="boolean"?Os:ar,0,m),l&&(f.fp=l),a&&f.modifier(a,this,e),this._pt=f):(!h&&!(i in e)&&xi(i,n),bs.call(this,e,i,g,n,m,u||ge.stringFilter,l))},vs=function(e,i,t,n,s){if(Y(e)&&(e=Ot(e,s,i,t,n)),!Me(e)||e.style&&e.nodeType||te(e)||kn(e))return Q(e)?Ot(e,s,i,t,n):e;var o={},a;for(a in e)o[a]=Ot(e[a],s,i,t,n);return o},nr=function(e,i,t,n,s,o){var a,u,l,c;if(fe[e]&&(a=new fe[e]).init(s,a.rawVars?i[e]:vs(i[e],n,s,o,t),t,n,o)!==!1&&(t._pt=u=new ue(t._pt,s,e,0,1,a.render,a,0,a.priority),t!==ut))for(l=t._ptLookup[t._targets.indexOf(s)],c=a._props.length;c--;)l[a._props[c]]=u;return a},Le,Ci,Ni=function r(e,i,t){var n=e.vars,s=n.ease,o=n.startAt,a=n.immediateRender,u=n.lazy,l=n.onUpdate,c=n.runBackwards,h=n.yoyoEase,g=n.keyframes,m=n.autoRevert,f=e._dur,d=e._startAt,_=e._targets,w=e.parent,y=w&&w.data==="nested"?w.vars.targets:_,S=e._overwrite==="auto"&&!Bi,v=e.timeline,b,k,E,O,C,x,N,F,R,V,$,W,j;if(v&&(!g||!s)&&(s="none"),e._ease=et(s,ht.ease),e._yEase=h?Jn(et(h===!0?s:h,ht.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!v&&!!n.runBackwards,!v||g&&!n.stagger){if(F=_[0]?Ze(_[0]).harness:0,W=F&&n[F.prop],b=Xt(n,Ri),d&&(d._zTime<0&&d.progress(1),i<0&&c&&a&&!m?d.render(-1,!0):d.revert(c&&f?Nt:qr),d._lazy=0),o){if(Xe(e._startAt=q.set(_,be({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!d&&oe(u),startAt:null,delay:0,onUpdate:l&&function(){return me(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,i<0&&(ee||!a&&!m)&&e._startAt.revert(Nt),a&&f&&i<=0&&t<=0){i&&(e._zTime=i);return}}else if(c&&f&&!d){if(i&&(a=!1),E=be({overwrite:!1,data:"isFromStart",lazy:a&&!d&&oe(u),immediateRender:a,stagger:0,parent:w},b),W&&(E[F.prop]=W),Xe(e._startAt=q.set(_,E)),e._startAt._dp=0,e._startAt._sat=e,i<0&&(ee?e._startAt.revert(Nt):e._startAt.render(-1,!0)),e._zTime=i,!a)r(e._startAt,z,z);else if(!i)return}for(e._pt=e._ptCache=0,u=f&&oe(u)||u&&!f,k=0;k<_.length;k++){if(C=_[k],N=C._gsap||Wi(_)[k]._gsap,e._ptLookup[k]=V={},yi[N.id]&&Ve.length&&Ut(),$=y===_?k:y.indexOf(C),F&&(R=new F).init(C,W||b,e,$,y)!==!1&&(e._pt=O=new ue(e._pt,C,R.name,0,1,R.render,R,0,R.priority),R._props.forEach(function(Z){V[Z]=O}),R.priority&&(x=1)),!F||W)for(E in b)fe[E]&&(R=nr(E,b,e,$,C,y))?R.priority&&(x=1):V[E]=O=Li.call(e,C,E,"get",b[E],$,y,0,n.stringFilter);e._op&&e._op[k]&&e.kill(C,e._op[k]),S&&e._pt&&(Le=e,X.killTweensOf(C,V,e.globalTime(i)),j=!e.parent,Le=0),e._pt&&u&&(yi[N.id]=1)}x&&lr(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!j,g&&i<=0&&v.render(ye,!0,!0)},Ss=function(e,i,t,n,s,o,a,u){var l=(e._pt&&e._ptCache||(e._ptCache={}))[i],c,h,g,m;if(!l)for(l=e._ptCache[i]=[],g=e._ptLookup,m=e._targets.length;m--;){if(c=g[m][i],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==i&&c.fp!==i;)c=c._next;if(!c)return Ci=1,e.vars[i]="+=0",Ni(e,a),Ci=0,u?It(i+" not eligible for reset"):1;l.push(c)}for(m=l.length;m--;)h=l[m],c=h._pt||h,c.s=(n||n===0)&&!s?n:c.s+(n||0)+o*c.c,c.c=t-c.s,h.e&&(h.e=G(t)+J(h.e)),h.b&&(h.b=c.s+J(h.b))},Ts=function(e,i){var t=e[0]?Ze(e[0]).harness:0,n=t&&t.aliases,s,o,a,u;if(!n)return i;s=it({},i);for(o in n)if(o in s)for(u=n[o].split(","),a=u.length;a--;)s[u[a]]=s[o];return s},Cs=function(e,i,t,n){var s=i.ease||n||"power1.inOut",o,a;if(te(i))a=t[e]||(t[e]=[]),i.forEach(function(u,l){return a.push({t:l/(i.length-1)*100,v:u,e:s})});else for(o in i)a=t[o]||(t[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:i[o],e:s})},Ot=function(e,i,t,n,s){return Y(e)?e.call(i,t,n,s):Q(e)&&~e.indexOf("random(")?Bt(e):e},rr=Fi+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",sr={};ae(rr+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return sr[r]=1});var q=function(r){Tn(e,r);function e(t,n,s,o){var a;typeof n=="number"&&(s.duration=n,n=s,s=null),a=r.call(this,o?n:kt(n))||this;var u=a.vars,l=u.duration,c=u.delay,h=u.immediateRender,g=u.stagger,m=u.overwrite,f=u.keyframes,d=u.defaults,_=u.scrollTrigger,w=u.yoyoEase,y=n.parent||X,S=(te(t)||kn(t)?Re(t[0]):"length"in n)?[t]:we(t),v,b,k,E,O,C,x,N;if(a._targets=S.length?Wi(S):It("GSAP target "+t+" not found. https://gsap.com",!ge.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,f||g||Lt(l)||Lt(c)){if(n=a.vars,v=a.timeline=new ie({data:"nested",defaults:d||{},targets:y&&y.data==="nested"?y.vars.targets:S}),v.kill(),v.parent=v._dp=Ae(a),v._start=0,g||Lt(l)||Lt(c)){if(E=S.length,x=g&&Un(g),Me(g))for(O in g)~rr.indexOf(O)&&(N||(N={}),N[O]=g[O]);for(b=0;b<E;b++)k=Xt(n,sr),k.stagger=0,w&&(k.yoyoEase=w),N&&it(k,N),C=S[b],k.duration=+Ot(l,Ae(a),b,C,S),k.delay=(+Ot(c,Ae(a),b,C,S)||0)-a._delay,!g&&E===1&&k.delay&&(a._delay=c=k.delay,a._start+=c,k.delay=0),v.to(C,k,x?x(b,C,S):0),v._ease=A.none;v.duration()?l=c=0:a.timeline=0}else if(f){kt(be(v.vars.defaults,{ease:"none"})),v._ease=et(f.ease||n.ease||"none");var F=0,R,V,$;if(te(f))f.forEach(function(W){return v.to(S,W,">")}),v.duration();else{k={};for(O in f)O==="ease"||O==="easeEach"||Cs(O,f[O],k,f.easeEach);for(O in k)for(R=k[O].sort(function(W,j){return W.t-j.t}),F=0,b=0;b<R.length;b++)V=R[b],$={ease:V.e,duration:(V.t-(b?R[b-1].t:0))/100*l},$[O]=V.v,v.to(S,$,F),F+=$.duration;v.duration()<l&&v.to({},{duration:l-v.duration()})}}l||a.duration(l=v.duration())}else a.timeline=0;return m===!0&&!Bi&&(Le=Ae(a),X.killTweensOf(S),Le=0),Ie(y,Ae(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(h||!l&&!f&&a._start===K(y._time)&&oe(h)&&ts(Ae(a))&&y.data!=="nested")&&(a._tTime=-z,a.render(Math.max(0,-c)||0)),_&&Nn(Ae(a),_),a}var i=e.prototype;return i.render=function(n,s,o){var a=this._time,u=this._tDur,l=this._dur,c=n<0,h=n>u-z&&!c?u:n<z?0:n,g,m,f,d,_,w,y,S,v;if(!l)ns(this,n,s,o);else if(h!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c){if(g=h,S=this.timeline,this._repeat){if(d=l+this._rDelay,this._repeat<-1&&c)return this.totalTime(d*100+n,s,o);if(g=K(h%d),h===u?(f=this._repeat,g=l):(f=~~(h/d),f&&f===K(h/d)&&(g=l,f--),g>l&&(g=l)),w=this._yoyo&&f&1,w&&(v=this._yEase,g=l-g),_=mt(this._tTime,d),g===a&&!o&&this._initted&&f===_)return this._tTime=h,this;f!==_&&(S&&this._yEase&&er(S,w),this.vars.repeatRefresh&&!w&&!this._lock&&this._time!==d&&this._initted&&(this._lock=o=1,this.render(K(d*f),!0).invalidate()._lock=0))}if(!this._initted){if($n(this,c?n:g,o,s,h))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&f!==_))return this;if(l!==this._dur)return this.render(n,s,o)}if(this._tTime=h,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(v||this._ease)(g/l),this._from&&(this.ratio=y=1-y),g&&!a&&!s&&!f&&(me(this,"onStart"),this._tTime!==h))return this;for(m=this._pt;m;)m.r(y,m.d),m=m._next;S&&S.render(n<0?n:S._dur*S._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(c&&wi(this,n,s,o),me(this,"onUpdate")),this._repeat&&f!==_&&this.vars.onRepeat&&!s&&this.parent&&me(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(c&&!this._onUpdate&&wi(this,n,!0,!0),(n||!l)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&Xe(this,1),!s&&!(c&&!a)&&(h||a||w)&&(me(this,h===u?"onComplete":"onReverseComplete",!0),this._prom&&!(h<u&&this.timeScale()>0)&&this._prom()))}return this},i.targets=function(){return this._targets},i.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),r.prototype.invalidate.call(this,n)},i.resetTo=function(n,s,o,a,u){Mt||he.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Ni(this,l),c=this._ease(l/this._dur),Ss(this,n,s,o,a,c,l,u)?this.resetTo(n,s,o,a,1):(Qt(this,0),this.parent||Wn(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Tt(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,Le&&Le.vars.overwrite!==!0)._first||Tt(this),this.parent&&o!==this.timeline.totalDuration()&&gt(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,u=n?we(n):a,l=this._ptLookup,c=this._pt,h,g,m,f,d,_,w;if((!s||s==="all")&&Jr(a,u))return s==="all"&&(this._pt=0),Tt(this);for(h=this._op=this._op||[],s!=="all"&&(Q(s)&&(d={},ae(s,function(y){return d[y]=1}),s=d),s=Ts(a,s)),w=a.length;w--;)if(~u.indexOf(a[w])){g=l[w],s==="all"?(h[w]=s,f=g,m={}):(m=h[w]=h[w]||{},f=s);for(d in f)_=g&&g[d],_&&((!("kill"in _.d)||_.d.kill(d)===!0)&&qt(this,_,"_pt"),delete g[d]),m!=="all"&&(m[d]=1)}return this._initted&&!this._pt&&c&&Tt(this),this},e.to=function(n,s){return new e(n,s,arguments[2])},e.from=function(n,s){return Et(1,arguments)},e.delayedCall=function(n,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,s,o){return Et(2,arguments)},e.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(n,s)},e.killTweensOf=function(n,s,o){return X.killTweensOf(n,s,o)},e}(Dt);be(q.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ae("staggerTo,staggerFrom,staggerFromTo",function(r){q[r]=function(){var e=new ie,i=vi.call(arguments,0);return i.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,i)}});var $i=function(e,i,t){return e[i]=t},or=function(e,i,t){return e[i](t)},ks=function(e,i,t,n){return e[i](n.fp,t)},Es=function(e,i,t){return e.setAttribute(i,t)},zi=function(e,i){return Y(e[i])?or:Mi(e[i])&&e.setAttribute?Es:$i},ar=function(e,i){return i.set(i.t,i.p,Math.round((i.s+i.c*e)*1e6)/1e6,i)},Os=function(e,i){return i.set(i.t,i.p,!!(i.s+i.c*e),i)},ur=function(e,i){var t=i._pt,n="";if(!e&&i.b)n=i.b;else if(e===1&&i.e)n=i.e;else{for(;t;)n=t.p+(t.m?t.m(t.s+t.c*e):Math.round((t.s+t.c*e)*1e4)/1e4)+n,t=t._next;n+=i.c}i.set(i.t,i.p,n,i)},Vi=function(e,i){for(var t=i._pt;t;)t.r(e,t.d),t=t._next},Is=function(e,i,t,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(e,i,t),s=o},Ps=function(e){for(var i=this._pt,t,n;i;)n=i._next,i.p===e&&!i.op||i.op===e?qt(this,i,"_pt"):i.dep||(t=1),i=n;return!t},Bs=function(e,i,t,n){n.mSet(e,i,n.m.call(n.tween,t,n.mt),n)},lr=function(e){for(var i=e._pt,t,n,s,o;i;){for(t=i._next,n=s;n&&n.pr>i.pr;)n=n._next;(i._prev=n?n._prev:o)?i._prev._next=i:s=i,(i._next=n)?n._prev=i:o=i,i=t}e._pt=s},ue=function(){function r(i,t,n,s,o,a,u,l,c){this.t=t,this.s=s,this.c=o,this.p=n,this.r=a||ar,this.d=u||this,this.set=l||$i,this.pr=c||0,this._next=i,i&&(i._prev=this)}var e=r.prototype;return e.modifier=function(t,n,s){this.mSet=this.mSet||this.set,this.set=Bs,this.m=t,this.mt=s,this.tween=n},r}();ae(Fi+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return Ri[r]=1});_e.TweenMax=_e.TweenLite=q;_e.TimelineLite=_e.TimelineMax=ie;X=new ie({sortChildren:!1,defaults:ht,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ge.stringFilter=Zn;var tt=[],zt={},Ms=[],ln=0,Ds=0,li=function(e){return(zt[e]||Ms).map(function(i){return i()})},ki=function(){var e=Date.now(),i=[];e-ln>2&&(li("matchMediaInit"),tt.forEach(function(t){var n=t.queries,s=t.conditions,o,a,u,l;for(a in n)o=Oe.matchMedia(n[a]).matches,o&&(u=1),o!==s[a]&&(s[a]=o,l=1);l&&(t.revert(),u&&i.push(t))}),li("matchMediaRevert"),i.forEach(function(t){return t.onMatch(t,function(n){return t.add(null,n)})}),ln=e,li("matchMedia"))},cr=function(){function r(i,t){this.selector=t&&Si(t),this.data=[],this._r=[],this.isReverted=!1,this.id=Ds++,i&&this.add(i)}var e=r.prototype;return e.add=function(t,n,s){Y(t)&&(s=n,n=t,t=Y);var o=this,a=function(){var l=U,c=o.selector,h;return l&&l!==o&&l.data.push(o),s&&(o.selector=Si(s)),U=o,h=n.apply(o,arguments),Y(h)&&o._r.push(h),U=l,o.selector=c,o.isReverted=!1,h};return o.last=a,t===Y?a(o,function(u){return o.add(null,u)}):t?o[t]=a:a},e.ignore=function(t){var n=U;U=null,t(this),U=n},e.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof r?t.push.apply(t,n.getTweens()):n instanceof q&&!(n.parent&&n.parent.data==="nested")&&t.push(n)}),t},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,n){var s=this;if(t?function(){for(var a=s.getTweens(),u=s.data.length,l;u--;)l=s.data[u],l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,h){return h.g-c.g||-1/0}).forEach(function(c){return c.t.revert(t)}),u=s.data.length;u--;)l=s.data[u],l instanceof ie?l.data!=="nested"&&(l.scrollTrigger&&l.scrollTrigger.revert(),l.kill()):!(l instanceof q)&&l.revert&&l.revert(t);s._r.forEach(function(c){return c(t,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=tt.length;o--;)tt[o].id===this.id&&tt.splice(o,1)},e.revert=function(t){this.kill(t||{})},r}(),As=function(){function r(i){this.contexts=[],this.scope=i,U&&U.data.push(this)}var e=r.prototype;return e.add=function(t,n,s){Me(t)||(t={matches:t});var o=new cr(0,s||this.scope),a=o.conditions={},u,l,c;U&&!o.selector&&(o.selector=U.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=t;for(l in t)l==="all"?c=1:(u=Oe.matchMedia(t[l]),u&&(tt.indexOf(o)<0&&tt.push(o),(a[l]=u.matches)&&(c=1),u.addListener?u.addListener(ki):u.addEventListener("change",ki)));return c&&n(o,function(h){return o.add(null,h)}),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach(function(n){return n.kill(t,!0)})},r}(),jt={registerPlugin:function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];i.forEach(function(n){return qn(n)})},timeline:function(e){return new ie(e)},getTweensOf:function(e,i){return X.getTweensOf(e,i)},getProperty:function(e,i,t,n){Q(e)&&(e=we(e)[0]);var s=Ze(e||{}).get,o=t?Fn:Rn;return t==="native"&&(t=""),e&&(i?o((fe[i]&&fe[i].get||s)(e,i,t,n)):function(a,u,l){return o((fe[a]&&fe[a].get||s)(e,a,u,l))})},quickSetter:function(e,i,t){if(e=we(e),e.length>1){var n=e.map(function(c){return ce.quickSetter(c,i,t)}),s=n.length;return function(c){for(var h=s;h--;)n[h](c)}}e=e[0]||{};var o=fe[i],a=Ze(e),u=a.harness&&(a.harness.aliases||{})[i]||i,l=o?function(c){var h=new o;ut._pt=0,h.init(e,t?c+t:c,ut,0,[e]),h.render(1,h),ut._pt&&Vi(1,ut)}:a.set(e,u);return o?l:function(c){return l(e,u,t?c+t:c,a,1)}},quickTo:function(e,i,t){var n,s=ce.to(e,it((n={},n[i]="+=0.1",n.paused=!0,n),t||{})),o=function(u,l,c){return s.resetTo(i,u,l,c)};return o.tween=s,o},isTweening:function(e){return X.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=et(e.ease,ht.ease)),rn(ht,e||{})},config:function(e){return rn(ge,e||{})},registerEffect:function(e){var i=e.name,t=e.effect,n=e.plugins,s=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!fe[a]&&!_e[a]&&It(i+" effect requires "+a+" plugin.")}),si[i]=function(a,u,l){return t(we(a),be(u||{},s),l)},o&&(ie.prototype[i]=function(a,u,l){return this.add(si[i](a,Me(u)?u:(l=u)&&{},this),l)})},registerEase:function(e,i){A[e]=et(i)},parseEase:function(e,i){return arguments.length?et(e,i):A},getById:function(e){return X.getById(e)},exportRoot:function(e,i){e===void 0&&(e={});var t=new ie(e),n,s;for(t.smoothChildTiming=oe(e.smoothChildTiming),X.remove(t),t._dp=0,t._time=t._tTime=X._time,n=X._first;n;)s=n._next,(i||!(!n._dur&&n instanceof q&&n.vars.onComplete===n._targets[0]))&&Ie(t,n,n._start-n._delay),n=s;return Ie(X,t,0),t},context:function(e,i){return e?new cr(e,i):U},matchMedia:function(e){return new As(e)},matchMediaRefresh:function(){return tt.forEach(function(e){var i=e.conditions,t,n;for(n in i)i[n]&&(i[n]=!1,t=1);t&&e.revert()})||ki()},addEventListener:function(e,i){var t=zt[e]||(zt[e]=[]);~t.indexOf(i)||t.push(i)},removeEventListener:function(e,i){var t=zt[e],n=t&&t.indexOf(i);n>=0&&t.splice(n,1)},utils:{wrap:ds,wrapYoyo:fs,distribute:Un,random:Hn,snap:Xn,normalize:cs,getUnit:J,clamp:os,splitColor:Kn,toArray:we,selector:Si,mapRange:Yn,pipe:us,unitize:ls,interpolate:hs,shuffle:Vn},install:Bn,effects:si,ticker:he,updateRoot:ie.updateRoot,plugins:fe,globalTimeline:X,core:{PropTween:ue,globals:Mn,Tween:q,Timeline:ie,Animation:Dt,getCache:Ze,_removeLinkedListItem:qt,reverting:function(){return ee},context:function(e){return e&&U&&(U.data.push(e),e._ctx=U),U},suppressOverwrites:function(e){return Bi=e}}};ae("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return jt[r]=q[r]});he.add(ie.updateRoot);ut=jt.to({},{duration:0});var xs=function(e,i){for(var t=e._pt;t&&t.p!==i&&t.op!==i&&t.fp!==i;)t=t._next;return t},Rs=function(e,i){var t=e._targets,n,s,o;for(n in i)for(s=t.length;s--;)o=e._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=xs(o,n)),o&&o.modifier&&o.modifier(i[n],e,t[s],n))},ci=function(e,i){return{name:e,rawVars:1,init:function(n,s,o){o._onInit=function(a){var u,l;if(Q(s)&&(u={},ae(s,function(c){return u[c]=1}),s=u),i){u={};for(l in s)u[l]=i(s[l]);s=u}Rs(a,s)}}}},ce=jt.registerPlugin({name:"attr",init:function(e,i,t,n,s){var o,a,u;this.tween=t;for(o in i)u=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(u||0)+"",i[o],n,s,0,0,o),a.op=o,a.b=u,this._props.push(o)},render:function(e,i){for(var t=i._pt;t;)ee?t.set(t.t,t.p,t.b,t):t.r(e,t.d),t=t._next}},{name:"endArray",init:function(e,i){for(var t=i.length;t--;)this.add(e,t,e[t]||0,i[t],0,0,0,0,0,1)}},ci("roundProps",Ti),ci("modifiers"),ci("snap",Xn))||jt;q.version=ie.version=ce.version="3.12.5";Pn=1;Di()&&_t();A.Power0;A.Power1;A.Power2;A.Power3;A.Power4;A.Linear;A.Quad;A.Cubic;A.Quart;A.Quint;A.Strong;A.Elastic;A.Back;A.SteppedEase;A.Bounce;A.Sine;A.Expo;A.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var cn,Ne,dt,Ui,Qe,dn,Xi,Fs=function(){return typeof window<"u"},Fe={},Ke=180/Math.PI,ft=Math.PI/180,ot=Math.atan2,fn=1e8,Hi=/([A-Z])/g,Ws=/(left|right|width|margin|padding|x)/i,Ls=/[\s,\(]\S/,Pe={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ei=function(e,i){return i.set(i.t,i.p,Math.round((i.s+i.c*e)*1e4)/1e4+i.u,i)},Ns=function(e,i){return i.set(i.t,i.p,e===1?i.e:Math.round((i.s+i.c*e)*1e4)/1e4+i.u,i)},$s=function(e,i){return i.set(i.t,i.p,e?Math.round((i.s+i.c*e)*1e4)/1e4+i.u:i.b,i)},zs=function(e,i){var t=i.s+i.c*e;i.set(i.t,i.p,~~(t+(t<0?-.5:.5))+i.u,i)},dr=function(e,i){return i.set(i.t,i.p,e?i.e:i.b,i)},fr=function(e,i){return i.set(i.t,i.p,e!==1?i.b:i.e,i)},Vs=function(e,i,t){return e.style[i]=t},Us=function(e,i,t){return e.style.setProperty(i,t)},Xs=function(e,i,t){return e._gsap[i]=t},Hs=function(e,i,t){return e._gsap.scaleX=e._gsap.scaleY=t},js=function(e,i,t,n,s){var o=e._gsap;o.scaleX=o.scaleY=t,o.renderTransform(s,o)},Ys=function(e,i,t,n,s){var o=e._gsap;o[i]=t,o.renderTransform(s,o)},H="transform",le=H+"Origin",Gs=function r(e,i){var t=this,n=this.target,s=n.style,o=n._gsap;if(e in Fe&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Pe[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return t.tfm[a]=xe(n,a)}):this.tfm[e]=o.x?o[e]:xe(n,e),e===le&&(this.tfm.zOrigin=o.zOrigin);else return Pe.transform.split(",").forEach(function(a){return r.call(t,a,i)});if(this.props.indexOf(H)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(le,i,"")),e=H}(s||i)&&this.props.push(e,i,s[e])},hr=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},qs=function(){var e=this.props,i=this.target,t=i.style,n=i._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?i[e[s]]=e[s+2]:e[s+2]?t[e[s]]=e[s+2]:t.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Hi,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),i.setAttribute("data-svg-origin",this.svgo||"")),s=Xi(),(!s||!s.isStart)&&!t[H]&&(hr(t),n.zOrigin&&t[le]&&(t[le]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},mr=function(e,i){var t={target:e,props:[],revert:qs,save:Gs};return e._gsap||ce.core.getCache(e),i&&i.split(",").forEach(function(n){return t.save(n)}),t},gr,Oi=function(e,i){var t=Ne.createElementNS?Ne.createElementNS((i||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ne.createElement(e);return t&&t.style?t:Ne.createElement(e)},Be=function r(e,i,t){var n=getComputedStyle(e);return n[i]||n.getPropertyValue(i.replace(Hi,"-$1").toLowerCase())||n.getPropertyValue(i)||!t&&r(e,pt(i)||i,1)||""},hn="O,Moz,ms,Ms,Webkit".split(","),pt=function(e,i,t){var n=i||Qe,s=n.style,o=5;if(e in s&&!t)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(hn[o]+e in s););return o<0?null:(o===3?"ms":o>=0?hn[o]:"")+e},Ii=function(){Fs()&&window.document&&(cn=window,Ne=cn.document,dt=Ne.documentElement,Qe=Oi("div")||{style:{}},Oi("div"),H=pt(H),le=H+"Origin",Qe.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",gr=!!pt("perspective"),Xi=ce.core.reverting,Ui=1)},di=function r(e){var i=Oi("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),t=this.parentNode,n=this.nextSibling,s=this.style.cssText,o;if(dt.appendChild(i),i.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=r}catch{}else this._gsapBBox&&(o=this._gsapBBox());return t&&(n?t.insertBefore(this,n):t.appendChild(this)),dt.removeChild(i),this.style.cssText=s,o},mn=function(e,i){for(var t=i.length;t--;)if(e.hasAttribute(i[t]))return e.getAttribute(i[t])},_r=function(e){var i;try{i=e.getBBox()}catch{i=di.call(e,!0)}return i&&(i.width||i.height)||e.getBBox===di||(i=di.call(e,!0)),i&&!i.width&&!i.x&&!i.y?{x:+mn(e,["x","cx","x1"])||0,y:+mn(e,["y","cy","y1"])||0,width:0,height:0}:i},pr=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&_r(e))},nt=function(e,i){if(i){var t=e.style,n;i in Fe&&i!==le&&(i=H),t.removeProperty?(n=i.substr(0,2),(n==="ms"||i.substr(0,6)==="webkit")&&(i="-"+i),t.removeProperty(n==="--"?i:i.replace(Hi,"-$1").toLowerCase())):t.removeAttribute(i)}},$e=function(e,i,t,n,s,o){var a=new ue(e._pt,i,t,0,1,o?fr:dr);return e._pt=a,a.b=n,a.e=s,e._props.push(t),a},gn={deg:1,rad:1,turn:1},Ks={grid:1,flex:1},He=function r(e,i,t,n){var s=parseFloat(t)||0,o=(t+"").trim().substr((s+"").length)||"px",a=Qe.style,u=Ws.test(i),l=e.tagName.toLowerCase()==="svg",c=(l?"client":"offset")+(u?"Width":"Height"),h=100,g=n==="px",m=n==="%",f,d,_,w;if(n===o||!s||gn[n]||gn[o])return s;if(o!=="px"&&!g&&(s=r(e,i,t,"px")),w=e.getCTM&&pr(e),(m||o==="%")&&(Fe[i]||~i.indexOf("adius")))return f=w?e.getBBox()[u?"width":"height"]:e[c],G(m?s/f*h:s/100*f);if(a[u?"width":"height"]=h+(g?o:n),d=~i.indexOf("adius")||n==="em"&&e.appendChild&&!l?e:e.parentNode,w&&(d=(e.ownerSVGElement||{}).parentNode),(!d||d===Ne||!d.appendChild)&&(d=Ne.body),_=d._gsap,_&&m&&_.width&&u&&_.time===he.time&&!_.uncache)return G(s/_.width*h);if(m&&(i==="height"||i==="width")){var y=e.style[i];e.style[i]=h+n,f=e[c],y?e.style[i]=y:nt(e,i)}else(m||o==="%")&&!Ks[Be(d,"display")]&&(a.position=Be(e,"position")),d===e&&(a.position="static"),d.appendChild(Qe),f=Qe[c],d.removeChild(Qe),a.position="absolute";return u&&m&&(_=Ze(d),_.time=he.time,_.width=d[c]),G(g?f*s/h:f&&s?h/f*s:0)},xe=function(e,i,t,n){var s;return Ui||Ii(),i in Pe&&i!=="transform"&&(i=Pe[i],~i.indexOf(",")&&(i=i.split(",")[0])),Fe[i]&&i!=="transform"?(s=xt(e,n),s=i!=="transformOrigin"?s[i]:s.svg?s.origin:Gt(Be(e,le))+" "+s.zOrigin+"px"):(s=e.style[i],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=Yt[i]&&Yt[i](e,i,t)||Be(e,i)||An(e,i)||(i==="opacity"?1:0))),t&&!~(s+"").trim().indexOf(" ")?He(e,i,s,t)+t:s},Qs=function(e,i,t,n){if(!t||t==="none"){var s=pt(i,e,1),o=s&&Be(e,s,1);o&&o!==t?(i=s,t=o):i==="borderColor"&&(t=Be(e,"borderTopColor"))}var a=new ue(this._pt,e.style,i,0,1,ur),u=0,l=0,c,h,g,m,f,d,_,w,y,S,v,b;if(a.b=t,a.e=n,t+="",n+="",n==="auto"&&(d=e.style[i],e.style[i]=n,n=Be(e,i)||n,d?e.style[i]=d:nt(e,i)),c=[t,n],Zn(c),t=c[0],n=c[1],g=t.match(at)||[],b=n.match(at)||[],b.length){for(;h=at.exec(n);)_=h[0],y=n.substring(u,h.index),f?f=(f+1)%5:(y.substr(-5)==="rgba("||y.substr(-5)==="hsla(")&&(f=1),_!==(d=g[l++]||"")&&(m=parseFloat(d)||0,v=d.substr((m+"").length),_.charAt(1)==="="&&(_=ct(m,_)+v),w=parseFloat(_),S=_.substr((w+"").length),u=at.lastIndex-S.length,S||(S=S||ge.units[i]||v,u===n.length&&(n+=S,a.e+=S)),v!==S&&(m=He(e,i,d,S)||0),a._pt={_next:a._pt,p:y||l===1?y:",",s:m,c:w-m,m:f&&f<4||i==="zIndex"?Math.round:0});a.c=u<n.length?n.substring(u,n.length):""}else a.r=i==="display"&&n==="none"?fr:dr;return On.test(n)&&(a.e=0),this._pt=a,a},_n={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Zs=function(e){var i=e.split(" "),t=i[0],n=i[1]||"50%";return(t==="top"||t==="bottom"||n==="left"||n==="right")&&(e=t,t=n,n=e),i[0]=_n[t]||t,i[1]=_n[n]||n,i.join(" ")},Js=function(e,i){if(i.tween&&i.tween._time===i.tween._dur){var t=i.t,n=t.style,s=i.u,o=t._gsap,a,u,l;if(s==="all"||s===!0)n.cssText="",u=1;else for(s=s.split(","),l=s.length;--l>-1;)a=s[l],Fe[a]&&(u=1,a=a==="transformOrigin"?le:H),nt(t,a);u&&(nt(t,H),o&&(o.svg&&t.removeAttribute("transform"),xt(t,1),o.uncache=1,hr(n)))}},Yt={clearProps:function(e,i,t,n,s){if(s.data!=="isFromStart"){var o=e._pt=new ue(e._pt,i,t,0,0,Js);return o.u=n,o.pr=-10,o.tween=s,e._props.push(t),1}}},At=[1,0,0,1,0,0],yr={},wr=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},pn=function(e){var i=Be(e,H);return wr(i)?At:i.substr(7).match(En).map(G)},ji=function(e,i){var t=e._gsap||Ze(e),n=e.style,s=pn(e),o,a,u,l;return t.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?At:s):(s===At&&!e.offsetParent&&e!==dt&&!t.svg&&(u=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(l=1,a=e.nextElementSibling,dt.appendChild(e)),s=pn(e),u?n.display=u:nt(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):dt.removeChild(e))),i&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Pi=function(e,i,t,n,s,o){var a=e._gsap,u=s||ji(e,!0),l=a.xOrigin||0,c=a.yOrigin||0,h=a.xOffset||0,g=a.yOffset||0,m=u[0],f=u[1],d=u[2],_=u[3],w=u[4],y=u[5],S=i.split(" "),v=parseFloat(S[0])||0,b=parseFloat(S[1])||0,k,E,O,C;t?u!==At&&(E=m*_-f*d)&&(O=v*(_/E)+b*(-d/E)+(d*y-_*w)/E,C=v*(-f/E)+b*(m/E)-(m*y-f*w)/E,v=O,b=C):(k=_r(e),v=k.x+(~S[0].indexOf("%")?v/100*k.width:v),b=k.y+(~(S[1]||S[0]).indexOf("%")?b/100*k.height:b)),n||n!==!1&&a.smooth?(w=v-l,y=b-c,a.xOffset=h+(w*m+y*d)-w,a.yOffset=g+(w*f+y*_)-y):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=b,a.smooth=!!n,a.origin=i,a.originIsAbsolute=!!t,e.style[le]="0px 0px",o&&($e(o,a,"xOrigin",l,v),$e(o,a,"yOrigin",c,b),$e(o,a,"xOffset",h,a.xOffset),$e(o,a,"yOffset",g,a.yOffset)),e.setAttribute("data-svg-origin",v+" "+b)},xt=function(e,i){var t=e._gsap||new ir(e);if("x"in t&&!i&&!t.uncache)return t;var n=e.style,s=t.scaleX<0,o="px",a="deg",u=getComputedStyle(e),l=Be(e,le)||"0",c,h,g,m,f,d,_,w,y,S,v,b,k,E,O,C,x,N,F,R,V,$,W,j,Z,De,ke,ve,de,Ft,p,Se;return c=h=g=d=_=w=y=S=v=0,m=f=1,t.svg=!!(e.getCTM&&pr(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(n[H]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[H]!=="none"?u[H]:"")),n.scale=n.rotate=n.translate="none"),E=ji(e,t.svg),t.svg&&(t.uncache?(Z=e.getBBox(),l=t.xOrigin-Z.x+"px "+(t.yOrigin-Z.y)+"px",j=""):j=!i&&e.getAttribute("data-svg-origin"),Pi(e,j||l,!!j||t.originIsAbsolute,t.smooth!==!1,E)),b=t.xOrigin||0,k=t.yOrigin||0,E!==At&&(N=E[0],F=E[1],R=E[2],V=E[3],c=$=E[4],h=W=E[5],E.length===6?(m=Math.sqrt(N*N+F*F),f=Math.sqrt(V*V+R*R),d=N||F?ot(F,N)*Ke:0,y=R||V?ot(R,V)*Ke+d:0,y&&(f*=Math.abs(Math.cos(y*ft))),t.svg&&(c-=b-(b*N+k*R),h-=k-(b*F+k*V))):(Se=E[6],Ft=E[7],ke=E[8],ve=E[9],de=E[10],p=E[11],c=E[12],h=E[13],g=E[14],O=ot(Se,de),_=O*Ke,O&&(C=Math.cos(-O),x=Math.sin(-O),j=$*C+ke*x,Z=W*C+ve*x,De=Se*C+de*x,ke=$*-x+ke*C,ve=W*-x+ve*C,de=Se*-x+de*C,p=Ft*-x+p*C,$=j,W=Z,Se=De),O=ot(-R,de),w=O*Ke,O&&(C=Math.cos(-O),x=Math.sin(-O),j=N*C-ke*x,Z=F*C-ve*x,De=R*C-de*x,p=V*x+p*C,N=j,F=Z,R=De),O=ot(F,N),d=O*Ke,O&&(C=Math.cos(O),x=Math.sin(O),j=N*C+F*x,Z=$*C+W*x,F=F*C-N*x,W=W*C-$*x,N=j,$=Z),_&&Math.abs(_)+Math.abs(d)>359.9&&(_=d=0,w=180-w),m=G(Math.sqrt(N*N+F*F+R*R)),f=G(Math.sqrt(W*W+Se*Se)),O=ot($,W),y=Math.abs(O)>2e-4?O*Ke:0,v=p?1/(p<0?-p:p):0),t.svg&&(j=e.getAttribute("transform"),t.forceCSS=e.setAttribute("transform","")||!wr(Be(e,H)),j&&e.setAttribute("transform",j))),Math.abs(y)>90&&Math.abs(y)<270&&(s?(m*=-1,y+=d<=0?180:-180,d+=d<=0?180:-180):(f*=-1,y+=y<=0?180:-180)),i=i||t.uncache,t.x=c-((t.xPercent=c&&(!i&&t.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*t.xPercent/100:0)+o,t.y=h-((t.yPercent=h&&(!i&&t.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*t.yPercent/100:0)+o,t.z=g+o,t.scaleX=G(m),t.scaleY=G(f),t.rotation=G(d)+a,t.rotationX=G(_)+a,t.rotationY=G(w)+a,t.skewX=y+a,t.skewY=S+a,t.transformPerspective=v+o,(t.zOrigin=parseFloat(l.split(" ")[2])||!i&&t.zOrigin||0)&&(n[le]=Gt(l)),t.xOffset=t.yOffset=0,t.force3D=ge.force3D,t.renderTransform=t.svg?to:gr?br:eo,t.uncache=0,t},Gt=function(e){return(e=e.split(" "))[0]+" "+e[1]},fi=function(e,i,t){var n=J(i);return G(parseFloat(i)+parseFloat(He(e,"x",t+"px",n)))+n},eo=function(e,i){i.z="0px",i.rotationY=i.rotationX="0deg",i.force3D=0,br(e,i)},Ge="0deg",St="0px",qe=") ",br=function(e,i){var t=i||this,n=t.xPercent,s=t.yPercent,o=t.x,a=t.y,u=t.z,l=t.rotation,c=t.rotationY,h=t.rotationX,g=t.skewX,m=t.skewY,f=t.scaleX,d=t.scaleY,_=t.transformPerspective,w=t.force3D,y=t.target,S=t.zOrigin,v="",b=w==="auto"&&e&&e!==1||w===!0;if(S&&(h!==Ge||c!==Ge)){var k=parseFloat(c)*ft,E=Math.sin(k),O=Math.cos(k),C;k=parseFloat(h)*ft,C=Math.cos(k),o=fi(y,o,E*C*-S),a=fi(y,a,-Math.sin(k)*-S),u=fi(y,u,O*C*-S+S)}_!==St&&(v+="perspective("+_+qe),(n||s)&&(v+="translate("+n+"%, "+s+"%) "),(b||o!==St||a!==St||u!==St)&&(v+=u!==St||b?"translate3d("+o+", "+a+", "+u+") ":"translate("+o+", "+a+qe),l!==Ge&&(v+="rotate("+l+qe),c!==Ge&&(v+="rotateY("+c+qe),h!==Ge&&(v+="rotateX("+h+qe),(g!==Ge||m!==Ge)&&(v+="skew("+g+", "+m+qe),(f!==1||d!==1)&&(v+="scale("+f+", "+d+qe),y.style[H]=v||"translate(0, 0)"},to=function(e,i){var t=i||this,n=t.xPercent,s=t.yPercent,o=t.x,a=t.y,u=t.rotation,l=t.skewX,c=t.skewY,h=t.scaleX,g=t.scaleY,m=t.target,f=t.xOrigin,d=t.yOrigin,_=t.xOffset,w=t.yOffset,y=t.forceCSS,S=parseFloat(o),v=parseFloat(a),b,k,E,O,C;u=parseFloat(u),l=parseFloat(l),c=parseFloat(c),c&&(c=parseFloat(c),l+=c,u+=c),u||l?(u*=ft,l*=ft,b=Math.cos(u)*h,k=Math.sin(u)*h,E=Math.sin(u-l)*-g,O=Math.cos(u-l)*g,l&&(c*=ft,C=Math.tan(l-c),C=Math.sqrt(1+C*C),E*=C,O*=C,c&&(C=Math.tan(c),C=Math.sqrt(1+C*C),b*=C,k*=C)),b=G(b),k=G(k),E=G(E),O=G(O)):(b=h,O=g,k=E=0),(S&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(S=He(m,"x",o,"px"),v=He(m,"y",a,"px")),(f||d||_||w)&&(S=G(S+f-(f*b+d*E)+_),v=G(v+d-(f*k+d*O)+w)),(n||s)&&(C=m.getBBox(),S=G(S+n/100*C.width),v=G(v+s/100*C.height)),C="matrix("+b+","+k+","+E+","+O+","+S+","+v+")",m.setAttribute("transform",C),y&&(m.style[H]=C)},io=function(e,i,t,n,s){var o=360,a=Q(s),u=parseFloat(s)*(a&&~s.indexOf("rad")?Ke:1),l=u-n,c=n+l+"deg",h,g;return a&&(h=s.split("_")[1],h==="short"&&(l%=o,l!==l%(o/2)&&(l+=l<0?o:-o)),h==="cw"&&l<0?l=(l+o*fn)%o-~~(l/o)*o:h==="ccw"&&l>0&&(l=(l-o*fn)%o-~~(l/o)*o)),e._pt=g=new ue(e._pt,i,t,n,l,Ns),g.e=c,g.u="deg",e._props.push(t),g},yn=function(e,i){for(var t in i)e[t]=i[t];return e},no=function(e,i,t){var n=yn({},t._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=t.style,a,u,l,c,h,g,m,f;n.svg?(l=t.getAttribute("transform"),t.setAttribute("transform",""),o[H]=i,a=xt(t,1),nt(t,H),t.setAttribute("transform",l)):(l=getComputedStyle(t)[H],o[H]=i,a=xt(t,1),o[H]=l);for(u in Fe)l=n[u],c=a[u],l!==c&&s.indexOf(u)<0&&(m=J(l),f=J(c),h=m!==f?He(t,u,l,f):parseFloat(l),g=parseFloat(c),e._pt=new ue(e._pt,a,u,h,g-h,Ei),e._pt.u=f||0,e._props.push(u));yn(a,n)};ae("padding,margin,Width,Radius",function(r,e){var i="Top",t="Right",n="Bottom",s="Left",o=(e<3?[i,t,n,s]:[i+s,i+t,n+t,n+s]).map(function(a){return e<2?r+a:"border"+a+r});Yt[e>1?"border"+r:r]=function(a,u,l,c,h){var g,m;if(arguments.length<4)return g=o.map(function(f){return xe(a,f,l)}),m=g.join(" "),m.split(g[0]).length===5?g[0]:m;g=(c+"").split(" "),m={},o.forEach(function(f,d){return m[f]=g[d]=g[d]||g[(d-1)/2|0]}),a.init(u,m,h)}});var vr={name:"css",register:Ii,targetTest:function(e){return e.style&&e.nodeType},init:function(e,i,t,n,s){var o=this._props,a=e.style,u=t.vars.startAt,l,c,h,g,m,f,d,_,w,y,S,v,b,k,E,O;Ui||Ii(),this.styles=this.styles||mr(e),O=this.styles.props,this.tween=t;for(d in i)if(d!=="autoRound"&&(c=i[d],!(fe[d]&&nr(d,i,t,n,e,s)))){if(m=typeof c,f=Yt[d],m==="function"&&(c=c.call(t,n,e,s),m=typeof c),m==="string"&&~c.indexOf("random(")&&(c=Bt(c)),f)f(this,e,d,c,t)&&(E=1);else if(d.substr(0,2)==="--")l=(getComputedStyle(e).getPropertyValue(d)+"").trim(),c+="",Ue.lastIndex=0,Ue.test(l)||(_=J(l),w=J(c)),w?_!==w&&(l=He(e,d,l,w)+w):_&&(c+=_),this.add(a,"setProperty",l,c,n,s,0,0,d),o.push(d),O.push(d,0,a[d]);else if(m!=="undefined"){if(u&&d in u?(l=typeof u[d]=="function"?u[d].call(t,n,e,s):u[d],Q(l)&&~l.indexOf("random(")&&(l=Bt(l)),J(l+"")||l==="auto"||(l+=ge.units[d]||J(xe(e,d))||""),(l+"").charAt(1)==="="&&(l=xe(e,d))):l=xe(e,d),g=parseFloat(l),y=m==="string"&&c.charAt(1)==="="&&c.substr(0,2),y&&(c=c.substr(2)),h=parseFloat(c),d in Pe&&(d==="autoAlpha"&&(g===1&&xe(e,"visibility")==="hidden"&&h&&(g=0),O.push("visibility",0,a.visibility),$e(this,a,"visibility",g?"inherit":"hidden",h?"inherit":"hidden",!h)),d!=="scale"&&d!=="transform"&&(d=Pe[d],~d.indexOf(",")&&(d=d.split(",")[0]))),S=d in Fe,S){if(this.styles.save(d),v||(b=e._gsap,b.renderTransform&&!i.parseTransform||xt(e,i.parseTransform),k=i.smoothOrigin!==!1&&b.smooth,v=this._pt=new ue(this._pt,a,H,0,1,b.renderTransform,b,0,-1),v.dep=1),d==="scale")this._pt=new ue(this._pt,b,"scaleY",b.scaleY,(y?ct(b.scaleY,y+h):h)-b.scaleY||0,Ei),this._pt.u=0,o.push("scaleY",d),d+="X";else if(d==="transformOrigin"){O.push(le,0,a[le]),c=Zs(c),b.svg?Pi(e,c,0,k,0,this):(w=parseFloat(c.split(" ")[2])||0,w!==b.zOrigin&&$e(this,b,"zOrigin",b.zOrigin,w),$e(this,a,d,Gt(l),Gt(c)));continue}else if(d==="svgOrigin"){Pi(e,c,1,k,0,this);continue}else if(d in yr){io(this,b,d,g,y?ct(g,y+c):c);continue}else if(d==="smoothOrigin"){$e(this,b,"smooth",b.smooth,c);continue}else if(d==="force3D"){b[d]=c;continue}else if(d==="transform"){no(this,c,e);continue}}else d in a||(d=pt(d)||d);if(S||(h||h===0)&&(g||g===0)&&!Ls.test(c)&&d in a)_=(l+"").substr((g+"").length),h||(h=0),w=J(c)||(d in ge.units?ge.units[d]:_),_!==w&&(g=He(e,d,l,w)),this._pt=new ue(this._pt,S?b:a,d,g,(y?ct(g,y+h):h)-g,!S&&(w==="px"||d==="zIndex")&&i.autoRound!==!1?zs:Ei),this._pt.u=w||0,_!==w&&w!=="%"&&(this._pt.b=l,this._pt.r=$s);else if(d in a)Qs.call(this,e,d,l,y?y+c:c);else if(d in e)this.add(e,d,l||e[d],y?y+c:c,n,s);else if(d!=="parseTransform"){xi(d,c);continue}S||(d in a?O.push(d,0,a[d]):O.push(d,1,l||e[d])),o.push(d)}}E&&lr(this)},render:function(e,i){if(i.tween._time||!Xi())for(var t=i._pt;t;)t.r(e,t.d),t=t._next;else i.styles.revert()},get:xe,aliases:Pe,getSetter:function(e,i,t){var n=Pe[i];return n&&n.indexOf(",")<0&&(i=n),i in Fe&&i!==le&&(e._gsap.x||xe(e,"x"))?t&&dn===t?i==="scale"?Hs:Xs:(dn=t||{})&&(i==="scale"?js:Ys):e.style&&!Mi(e.style[i])?Vs:~i.indexOf("-")?Us:zi(e,i)},core:{_removeProperty:nt,_getMatrix:ji}};ce.utils.checkPrefix=pt;ce.core.getStyleSaver=mr;(function(r,e,i,t){var n=ae(r+","+e+","+i,function(s){Fe[s]=1});ae(e,function(s){ge.units[s]="deg",yr[s]=1}),Pe[n[13]]=r+","+e,ae(t,function(s){var o=s.split(":");Pe[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ae("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){ge.units[r]="px"});ce.registerPlugin(vr);var Ce=ce.registerPlugin(vr)||ce;Ce.core.Tween;function wn(r,e,i,t){const n=parseFloat(t.getAttribute("r"),10),s=parseFloat(t.getAttribute("cx"),10),o=parseFloat(t.getAttribute("cy"),10),a=parseFloat(i.getAttribute("r"),10),u=n-a/.5,l=r.getBBox().width,c=r.getBBox().height,h=e.x,g=e.y,m=h+l/2,f=g+c/2,d=(o-f)/(s-m),_=f-d*m,w=Math.sqrt((s**2*d**2+2*s*_*d-2*s*o*d+_**2-2*_*o+o**2-u**2*d**2-u**2)/(-(d**4)-2*d**2-1))+(s-_*d+o*d)/(d**2+1),y=-Math.sqrt((s**2*d**2+2*s*_*d-2*s*o*d+_**2-2*_*o+o**2-u**2*d**2-u**2)/(-(d**4)-2*d**2-1))+(s-_*d+o*d)/(d**2+1),S=d*w+_,v=d*y+_;return S>=v?{x:w,y:S}:{x:y,y:v}}function ze(r,e){try{r.devmode&&(r.soundEffect.playbackRate=4),r.soundEffect.src=e,r.soundEffect.play()}catch(i){console.error("src: ",e,"error: ",i)}}function Sr(r){new Promise(e=>setTimeout(e,r))}async function ro(r,e){e.log[e.trial].responsetime=Date.now()-e.log[e.trial].timeTrialstart,e.log[e.trial].timestamp=new Date().toISOString(),e.log[e.trial].id=e.meta.subjID,e.log[e.trial].lang=e.meta.lang,e.log[e.trial].bg=e.meta.bg;const i=e.elemSpecs.outerSVG.ID.createSVGPoint();i.x=r.clientX,i.y=r.clientY;const t=i.matrixTransform(e.elemSpecs.outerSVG.ID.getScreenCTM().inverse());e.log[e.trial].clickX=t.x;const n=document.getElementById("click-bubble");n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),await Ce.to(n,{duration:.5,attr:{visibility:"visible"},onComplete(){n.setAttribute("visibility","hidden")}}),ze(e,`./sounds/${e.meta.lang}/positive-feedback.mp3`),e.log[e.trial].absoluteClickDistance=parseFloat(Math.abs(t.x-e.log[e.trial].targetCenterX).toFixed(2)),delete e.log[e.trial].targetX,delete e.log[e.trial].targetY,delete e.log[e.trial].timeTrialstart,e.devmode&&console.log(e.log[e.trial])}function so(r,e){return Math.abs(Math.sqrt((e.x-r.x)**2+(e.y-r.y)**2))}function Tr(r){let e,i,t,n;r.log[r.trial].agent.startsWith("female")?(e=`./sounds/${r.meta.lang}/touch-1-f.mp3`,i=`./sounds/${r.meta.lang}/fam-hedge-1-f.mp3`,t=`./sounds/${r.meta.lang}/test-hedge-1-f.mp3`,n=`./sounds/${r.meta.lang}/test-hedge-2-f.mp3`,`${r.meta.lang}`):r.log[r.trial].agent.startsWith("male")&&(e=`./sounds/${r.meta.lang}/touch-1-m.mp3`,i=`./sounds/${r.meta.lang}/fam-hedge-1-m.mp3`,t=`./sounds/${r.meta.lang}/test-hedge-1-m.mp3`,n=`./sounds/${r.meta.lang}/test-hedge-2-m.mp3`,`${r.meta.lang}`);const s=document.getElementById(`${r.log[r.trial].target}`),o=r.log[r.trial].agent,a=document.getElementById(`${o}-pupil-left`),u=document.getElementById(`${o}-pupil-right`),l=document.getElementById(`${o}-iris-left`),c=document.getElementById(`${o}-iris-right`),h=document.getElementById("hedge"),g=Ce.timeline({paused:!0}),m=.5,f=.2,w=so(r.elemSpecs.targets.center,{x:r.log[r.trial].targetX,y:r.log[r.trial].targetY})/700,y=Ce.timeline({paused:!0});y.to([a,u,l,c],{scale:1.3,opacity:.75,duration:.3,transformOrigin:"50% 50%",onStart:async function(){await lt(r,`./sounds/${r.meta.lang}/blink.mp3`),r.soundEffect.src=`./sounds/${r.meta.lang}/balloon-lands.mp3`}},"<").set([r.log[r.trial].agent,a,u,l,c],{scale:1,opacity:1});const S=Ce.timeline({paused:!0});if(S.to(s,{duration:w,ease:"none",x:r.elemSpecs.targets.centerFinal.x,y:r.elemSpecs.targets.centerFinal.y}).to([a,l],{duration:w,ease:"none",x:r.elemSpecs.eyes[o].left.centerFinal.x,y:r.elemSpecs.eyes[o].left.centerFinal.y},"<").to([u,c],{duration:w,ease:"none",x:r.elemSpecs.eyes[o].right.centerFinal.x,y:r.elemSpecs.eyes[o].right.centerFinal.y,onComplete(){r.soundEffect.play()}},"<"),r.state[0]==="touch"&&(r.log[r.trial].voiceover&&(g.eventCallback("onStart",ze,[r,e]),y.delay(r.elemSpecs.audioDur[e]+m)),y.play(),S.play(),g.add(y,`+=${m}`).add(S,`+=${m}`)),r.state[0]==="fam"){const v=Ce.set(h,{y:h.getBBox().height-r.elemSpecs.targets.height-75});r.log[r.trial].voiceover&&(g.eventCallback("onStart",ze,[r,i]),y.delay(r.elemSpecs.audioDur[i]+m)),y.play(),S.play(),g.add(v).add(y,`+=${m}`).add(S,`+=${m}`)}if(r.state[0]==="test"){const v=Ce.to(h,{y:h.getBBox().height-r.elemSpecs.targets.height-75,duration:f,ease:"none"}),b=Ce.fromTo(h,{y:h.getBBox().height-r.elemSpecs.targets.height-75},{y:0,duration:f,ease:"none"});r.log[r.trial].voiceover&&(g.eventCallback("onStart",ze,[r,t]),b.delay(r.elemSpecs.audioDur[t]+m),b.eventCallback("onComplete",ze,[r,n]),y.delay(r.elemSpecs.audioDur[n]+m)),b.play(),y.play(),S.play(),v.play(),g.add(b,`+=${m}`).add(y,`+=${m}`).add(S,`+=${m}`).add(v,`+=${m}`)}return g.play(),g}function oo(r){const e=document.getElementById("textslide-button"),i=document.getElementById("textslide"),t=document.getElementById("experimentslide"),n=document.getElementById("hedge"),s=document.getElementById("speaker");document.getElementById("foreign-object-heading").replaceChild(r.txt.instructionsFamHeading,r.txt.instructionsTouchHeading),document.getElementById("foreign-object-center-left").replaceChild(r.txt.instructionsFamParagraph,r.txt.instructionsTouchParagraph),document.getElementById("foreign-object-center-right").replaceChild(r.txt.instructionsFamImage,r.txt.instructionsTouchImage),se([i,e],[t,n,r.meta.selectedAgents,r.meta.selectedTargets,r.meta.selectedBackground,s]);const o=()=>{r.state.shift(),Zt(r),se([t],[i,e])};e.addEventListener("click",o,{capture:!1,once:!0})}function ao(r){const e=document.getElementById("textslide-button"),i=document.getElementById("textslide"),t=document.getElementById("experimentslide"),n=document.getElementById("hedge"),s=document.getElementById("speaker");document.getElementById("foreign-object-heading").replaceChild(r.txt.instructionsTestHeading,r.txt.instructionsFamHeading),document.getElementById("foreign-object-center-left").replaceChild(r.txt.instructionsTestParagraph,r.txt.instructionsFamParagraph),document.getElementById("foreign-object-center-right").replaceChild(r.txt.instructionsTestImage,r.txt.instructionsFamImage),se([i,e],[t,n,r.meta.selectedAgents,r.meta.selectedTargets,r.meta.selectedBackground,s]);const o=()=>{r.state.shift(),Zt(r),se([t],[i,e])};e.addEventListener("click",o,{capture:!1,once:!0})}function uo(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}function lo(r){const e=document.getElementById("download-icon"),i=document.getElementById("textslide-button"),t=document.getElementById("textslide-button-text"),n=document.getElementById("speaker"),s=document.getElementById("textslide"),o=document.getElementById("experimentslide"),a=document.getElementById("hedge"),u=document.getElementById("balloon-blue"),l=document.getElementById("balloon-yellow"),c=document.getElementById("balloon-red"),h=document.getElementById("balloon-green");if(document.getElementById("foreign-object-heading").replaceChild(r.txt.goodbyeHeading,r.txt.instructionsTestHeading),document.getElementById("foreign-object-center-left").replaceChild(r.txt.goodbyeParagraph,r.txt.instructionsTestParagraph),document.getElementById("foreign-object-center-right").replaceChild(r.txt.familyImage,r.txt.instructionsTestImage),t.innerHTML="exit",se([s,n,i,e],[o,a,r.meta.selectedAgents,r.meta.selectedTargets,r.meta.selectedBackground,u,h,c,l]),n.addEventListener("click",function(){Sn(r)},{capture:!1,once:!1}),hi(r.log,r.meta.subjID),!r.meta.iOSSafari&&r.meta.webcam){mrec.stopRecorder();const f=new Date().toISOString().substring(0,10),d=new Date().toISOString().substring(11,19);setTimeout(()=>mrec.downloadVideo(`tangoCC-${r.meta.subjID}-${f}-${d}`),1e3)}const g=()=>{if(hi(r.log,r.meta.subjID),!r.meta.iOSSafari&&r.meta.webcam){mrec.stopRecorder();const f=new Date().toISOString().substring(0,10),d=new Date().toISOString().substring(11,19);setTimeout(()=>mrec.downloadVideo(`tangoCC-${r.meta.subjID}-${f}-${d}`),1e3)}};e.addEventListener("click",g,{capture:!1,once:!1});const m=()=>{r.soundEffect.pause(),r.soundEffect.currentTime=0,r.devmode||uo(),window.location.replace("./goodbye.html")};i.addEventListener("click",m,{capture:!1,once:!0})}async function bn(r,e){switch(e.soundEffect.pause(),clearTimeout(e.targetClickTimer5sec),await ro(r,e),await Sr(500),e.trial+=1,e.state.shift(),e.state[0]){case"touch":case"fam":case"test":Zt(e),e.timeline=Ce.timeline({paused:!0}),e.timeline.add(Tr(e));break;case"transition":e.state[1]==="fam"&&oo(e),e.state[1]==="test"&&ao(e);break;case"goodbye":lo(e);break}}async function co(r){r.devmode&&console.log("trial: ",r.trial+1),se([],[document.getElementById("experimentslide-button"),document.getElementById("cover-blurr"),document.getElementById("click-bubble")]),await r.timeline.play(),await Sr(200),r.log[r.trial].voiceover?r.state[0]==="touch"?await lt(r,`./sounds/${r.meta.lang}/prompt-touch-long.mp3`):r.state[0]==="fam"?await lt(r,`./sounds/${r.meta.lang}/prompt-hedge.mp3`):r.state[0]==="test"&&await lt(r,`./sounds/${r.meta.lang}/test-hedge-3-m.mp3`):ze(r,`./sounds/${r.meta.lang}/prompt-general.mp3`);const e=()=>{r.state[0]==="touch"&&ze(r,`./sounds/${r.meta.lang}/prompt-touch.mp3`),r.state[0]!=="touch"&&ze(r,`./sounds/${r.meta.lang}/prompt-hedge.mp3`)};r.targetClickTimer5sec=window.setTimeout(e,5e3),r.log[r.trial].timeTrialstart=Date.now();const i=document.getElementById("clickable-area"),t=document.getElementById("hedge");r.state[0]==="touch"&&(i.setAttribute("pointer-events","all"),i.addEventListener("click",async function(){await bn(event,r)},{capture:!1,once:!0})),(r.state[0]==="fam"||r.state[0]==="test")&&(i.setAttribute("pointer-events","none"),t.addEventListener("click",async function(){await bn(event,r)},{capture:!1,once:!0}))}function Zt(r){const e=document.getElementById("experimentslide-button"),i=r.log[r.trial].agent,t=document.getElementById(`${i}-pupil-left`),n=document.getElementById(`${i}-pupil-right`),s=document.getElementById(`${i}-iris-left`),o=document.getElementById(`${i}-iris-right`),a=document.getElementById(`${i}-eyeline-left`),u=document.getElementById(`${i}-eyeline-right`),l=document.getElementById("hedge"),c=document.getElementById(`${r.log[r.trial].target}`);Ce.set([t,n,s,o,l,c],{x:0,y:0}),r.trial>0&&se([],[document.getElementById(`${r.log[r.trial-1].agent}`),document.getElementById(`${r.log[r.trial-1].target}`)]),se([e,document.getElementById("cover-blurr"),r.meta.selectedBackground,document.getElementById(`${r.log[r.trial].agent}`),document.getElementById(`${r.log[r.trial].target}`)],[]),r.state[0]==="touch"?se([],[l]):se([l],[]),r.elemSpecs.targets.centerFinal={x:r.log[r.trial].targetX-r.elemSpecs.targets.center.x,y:r.log[r.trial].targetY-r.elemSpecs.targets.center.y};const h=wn(document.getElementById(`${r.log[r.trial].target}`),{x:r.log[r.trial].targetX,y:r.log[r.trial].targetY},t,a);r.elemSpecs.eyes[i].left.final=h,r.elemSpecs.eyes[i].left.centerFinal={x:h.x-r.elemSpecs.eyes[i].left.center.x,y:h.y-r.elemSpecs.eyes[i].left.center.y};const g=wn(document.getElementById(`${r.log[r.trial].target}`),{x:r.log[r.trial].targetX,y:r.log[r.trial].targetY},n,u);r.elemSpecs.eyes[i].right.final=g,r.elemSpecs.eyes[i].right.centerFinal={x:g.x-r.elemSpecs.eyes[i].right.center.x,y:g.y-r.elemSpecs.eyes[i].right.center.y},r.timeline=Ce.timeline({paused:!0}),r.timeline.add(Tr(r)),e.addEventListener("click",function(){co(r)},{capture:!1,once:!0})}function fo(r){const e=document.getElementById("textslide-button"),i=document.getElementById("speaker"),t=document.getElementById("textslide"),n=document.getElementById("experimentslide");r.devmode||Ur(),document.getElementById("foreign-object-heading").replaceChild(r.txt.instructionsTouchHeading,r.txt.welcomeHeading),document.getElementById("foreign-object-center-left").replaceChild(r.txt.instructionsTouchParagraph,r.txt.welcomeParagraph),document.getElementById("foreign-object-center-right").replaceChild(r.txt.instructionsTouchImage,r.txt.familyImage),se([i],[]),i.addEventListener("click",function(){Sn(r)},{capture:!1,once:!1});const s=()=>{r.soundEffect.pause(),r.state.shift(),Zt(r),se([n],[t,i,e])};e.addEventListener("click",s,{capture:!1,once:!0})}function ho(r){const e=document.getElementById("textslide"),i=document.getElementById("textslide-button"),t=document.getElementById("download-icon"),n=document.getElementById("experimentslide"),s=document.getElementById("speaker"),o=document.getElementById("clickable-area");document.getElementById("foreign-object-heading").appendChild(r.txt.welcomeHeading),document.getElementById("foreign-object-center-left").appendChild(r.txt.welcomeParagraph),document.getElementById("foreign-object-center-right").appendChild(r.txt.familyImage),se([e],[n,s,o,t]),i.addEventListener("click",function(){r.state.shift(),fo(r)},{capture:!1,once:!0})}document.addEventListener("DOMContentLoaded",async()=>{const r=$r();Lr(r);const e=document.getElementById("tango-svg");try{const t=await(await fetch("./images/tango.svg")).text();e.innerHTML=t}catch(i){console.error("Error loading SVG:",i)}r.txt=Rr(),zr(r),Vr(r),Wr(r,r.meta.selectedAgents,r.meta.selectedTargets),r.targetClickTimer5sec=null,ho(r),r.devmode&&console.log(r)});
